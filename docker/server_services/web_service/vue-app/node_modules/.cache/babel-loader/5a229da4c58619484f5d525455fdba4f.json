{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/account/SignUpForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/account/SignUpForm.vue","mtime":1608327857666},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2dyYWNlL3BqL21pY3Jvc2VydmljZXNfbWliYW5kNF9oZWFsdGhtb25pdG9yL2Zyb250ZW5kL3Z1ZS1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgKiBhcyB1c2VyIGZyb20gJ0AvZnVuY3Rpb25zL1VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IHsKICAgIGVtYWlsU3RhdGU6IGZ1bmN0aW9uIGVtYWlsU3RhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnZhbGlkRW1haWw7CiAgICB9LAogICAgcHdTdGF0ZTogZnVuY3Rpb24gcHdTdGF0ZSgpIHsKICAgICAgaWYgKHRoaXMuZm9ybS5wYXNzd29yZCA9PSAnJykgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5mb3JtLnBhc3N3b3JkLmxlbmd0aCA+PSA2OwogICAgfSwKICAgIGNmUHdTdGF0ZTogZnVuY3Rpb24gY2ZQd1N0YXRlKCkgewogICAgICBpZiAodGhpcy5mb3JtLmNmcGFzc3dvcmQgPT0gJycpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuZm9ybS5jZnBhc3N3b3JkID09IHRoaXMuZm9ybS5wYXNzd29yZDsKICAgIH0sCiAgICBpbnZhbGlkRW1haWw6IGZ1bmN0aW9uIGludmFsaWRFbWFpbCgpIHsKICAgICAgaWYgKHRoaXMudmFsaWRFbWFpbCA9PSBmYWxzZSkgcmV0dXJuICdUaGlzIGVtYWlsIGhhcyBiZWVuIHVzZWQuIFBsZWFzZSB0cnkgYW5vdGhlciBlbWFpbCc7CiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIGludmFsaWRQdzogZnVuY3Rpb24gaW52YWxpZFB3KCkgewogICAgICBpZiAodGhpcy5mb3JtLnBhc3N3b3JkLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gJ0VudGVyIGF0IGxlYXN0IDYgY2hhcmFjdGVycy4nOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBpbnZhbGlkQ2ZQdzogZnVuY3Rpb24gaW52YWxpZENmUHcoKSB7CiAgICAgIGlmICh0aGlzLmZvcm0uY2ZwYXNzd29yZC5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuICdDb25maXJtIHBhc3N3b3JkIG5lZWQgdG8gYmUgc2FtZSBhcyBwYXNzd29yZCc7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgIGNmcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHNob3c6IHRydWUsCiAgICAgIHZhbGlkRW1haWw6IG51bGwsCiAgICAgIHN1Ym1pdFN0YXR1czogbnVsbCwKICAgICAgdXNlcl9kYl9ob3N0OiB0aGlzLiRhcGlfaG9zdHNbJ3VzZXJfZGJfYXBpJ10sCiAgICAgIHVzZXJfZGJfcG9ydDogdGhpcy4kYXBpX3BvcnRzWyd1c2VyX2RiX2FwaSddIC8vIGdldCB1c2VyX2RiX2hvc3QoKSB7CiAgICAgIC8vICAgcmV0dXJuIHRoaXMuJGFwaV9ob3N0c1sndXNlcl9kYl9hcGknXQogICAgICAvLyB9LAogICAgICAvLyBnZXQgdXNlcl9kYl9wb3J0KCkgewogICAgICAvLyAgIHJldHVybiB0aGlzLiRhcGlfcG9ydHNbJ3VzZXJfZGJfYXBpJ10KICAgICAgLy8gfSwKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVFbWFpbDogZnVuY3Rpb24gdmFsaWRhdGVFbWFpbChlbWFpbCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcGFyYW1zLCByZXNwb25zZSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtcyA9ICdlbWFpbD0nICsgZW1haWw7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vIi5jb25jYXQoX3RoaXMudXNlcl9kYl9ob3N0LCAiOiIpLmNvbmNhdChfdGhpcy51c2VyX2RiX3BvcnQsICIvdXNlcnMvZmluZC1ieS1lbWFpbD8iKS5jb25jYXQocGFyYW1zKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXN1bHQudXNlciAhPSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDEzOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkVXNlcjogZnVuY3Rpb24gYWRkVXNlcih1c2VyKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLyIuY29uY2F0KF90aGlzMi51c2VyX2RiX2hvc3QsICI6IikuY29uY2F0KF90aGlzMi51c2VyX2RiX3BvcnQsICIvdXNlcnMiKSwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlciksCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA1OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dDIudDApOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgNV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KGV2dCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvL2NoZWNrIGlmIGVudGVyZWQgcHcgYW5kIGNmcHcgYXJlIHZhbGlkIG9yIG5vdAoKICAgICAgaWYgKHRoaXMucHdTdGF0ZSAmJiB0aGlzLmNmUHdTdGF0ZSkgewogICAgICAgIC8vaWYgYm90aCBhcmUgdmFsaWQKICAgICAgICB0aGlzLnZhbGlkYXRlRW1haWwodGhpcy5mb3JtLmVtYWlsKS50aGVuKGZ1bmN0aW9uIChhYmxlVG9BZGQpIHsKICAgICAgICAgIC8vY2hlY2sgaWYgZW1haWwgaXMgdmFsaWQgb3Igbm90CiAgICAgICAgICBpZiAoYWJsZVRvQWRkKSB7CiAgICAgICAgICAgIC8vaWYgZW1haWwgaGFzbnQgYmVlbiB1c2VkCiAgICAgICAgICAgIF90aGlzMy5hZGRVc2VyKF90aGlzMy5mb3JtKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczMudmFsaWRFbWFpbCA9IHRydWU7CiAgICAgICAgICAgICAgX3RoaXMzLnN1Ym1pdFN0YXR1cyA9ICdPSyc7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgX3RoaXMzLnN1Ym1pdFN0YXR1cyA9ICdQRU5ESU5HJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vaWYgZW1haWwgZXhpc3RzIGluIGR0YgogICAgICAgICAgICBfdGhpczMudmFsaWRFbWFpbCA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczMuc3VibWl0U3RhdHVzID0gJ0VSUk9SJzsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN1Ym1pdFN0YXR1cyA9ICdFUlJPUic7CiAgICAgIH0KICAgIH0sCiAgICBvblJlc2V0OiBmdW5jdGlvbiBvblJlc2V0KGV2dCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBSZXNldCBvdXIgZm9ybSB2YWx1ZXMKCiAgICAgIHRoaXMuZm9ybS5lbWFpbCA9ICcnOwogICAgICB0aGlzLmZvcm0ucGFzc3dvcmQgPSAnJzsKICAgICAgdGhpcy5mb3JtLmNmcGFzc3dvcmQgPSAnJzsgLy8gVHJpY2sgdG8gcmVzZXQvY2xlYXIgbmF0aXZlIGJyb3dzZXIgZm9ybSB2YWxpZGF0aW9uIHN0YXRlCgogICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5zdWJtaXRTdGF0dXMgPSBudWxsOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LnNob3cgPSB0cnVlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["SignUpForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <b-card class=\"w-50 mx-auto mt-3\">\n      <div class=\"d-flex justify-content-center mb-3\">\n        <b-button variant=\"outline-primary\">Sign Up Form</b-button>\n      </div>\n      <div v-if=\"submitStatus === 'OK'\">\n        <b-alert variant=\"success\" show>Signed up successfully. \n          <router-link to=\"/signin\">Sign in now?</router-link>\n        </b-alert>\n      </div>\n      <div v-if=\"submitStatus === 'ERROR'\">\n        <b-alert variant=\"danger\" show>Please check all the fields again.</b-alert>\n      </div>\n      <div v-if=\"submitStatus === 'PENDING'\">\n        <b-alert variant=\"info\" show>Sending request...</b-alert>\n      </div>\n\n      <b-form @submit=\"onSubmit\" @reset=\"onReset\" v-if=\"show\">\n      <b-form-group \n        label=\"Email address:\"\n        :invalid-feedback=\"invalidEmail\"\n        :state=\"emailState\"\n      >\n          <b-form-input\n            v-model=\"form.email\"\n            type=\"email\"\n            required\n            placeholder=\"Enter email\"\n          ></b-form-input>\n      </b-form-group>\n\n      <b-form-group \n        label=\"Password:\"\n        :invalid-feedback=\"invalidPw\"\n        :state=\"pwState\"\n      >\n          <b-form-input\n            v-model=\"form.password\"\n            :state=\"pwState\"\n            type=\"password\"\n            required\n            placeholder=\"Enter password\"\n          ></b-form-input>\n      </b-form-group>\n\n      <b-form-group \n        label=\"Confirm Password:\"\n        :invalid-feedback=\"invalidCfPw\"\n        :state=\"cfPwState\"  \n      >\n          <b-form-input\n            v-model=\"form.cfpassword\"\n            :state=\"cfPwState\"\n            type=\"password\"\n            required\n            placeholder=\"Re-enter password\"\n          ></b-form-input>\n      </b-form-group>\n\n      <div class=\"d-flex justify-content-center\">\n        <b-button type=\"submit\" variant=\"primary\">SignUp</b-button>\n        <b-button type=\"reset\" variant=\"danger\">Reset</b-button>\n      </div>\n      </b-form>\n    </b-card>\n  </div>\n</template>\n\n<script>\nimport * as user from '@/functions/User'\n\nexport default {\n  computed: {\n    emailState() {\n      return this.validEmail\n    },\n    pwState() {\n      if(this.form.password=='') {\n        return null\n      }\n      return this.form.password.length >= 6\n    },\n    cfPwState() {\n      if(this.form.cfpassword=='') {\n        return null\n      }\n      return this.form.cfpassword == this.form.password\n    },\n    invalidEmail() {\n      if(this.validEmail==false)\n        return 'This email has been used. Please try another email'\n      return null\n    },\n    invalidPw() {\n      if (this.form.password.length > 0) {\n        return 'Enter at least 6 characters.'\n      }\n      return null\n    },\n    invalidCfPw() {\n      if (this.form.cfpassword.length > 0) {\n        return 'Confirm password need to be same as password'\n      }\n      return null\n    },\n  },\n  data() {\n    return {\n      form: {\n        email: '',\n        password: '',\n        cfpassword: '',\n      },\n      show: true,\n      validEmail: null,\n      submitStatus: null,\n      user_db_host: this.$api_hosts['user_db_api'],\n      user_db_port: this.$api_ports['user_db_api']\n      // get user_db_host() {\n      //   return this.$api_hosts['user_db_api']\n      // },\n      // get user_db_port() {\n      //   return this.$api_ports['user_db_api']\n      // },\n    }\n  },\n\n  methods: {\n    async validateEmail(email) {\n      const params = 'email='+email\n      try {\n        const response = await fetch(`http://${this.user_db_host}:${this.user_db_port}/users/find-by-email?${params}`)\n        const result = await response.json()\n        if (result.user!=null) {\n          return false\n        }\n        return true\n      } catch (error) {\n        console.error(error)\n      }\n    },\n    async addUser(user) {\n      try {\n        await fetch(`http://${this.user_db_host}:${this.user_db_port}/users`, {\n          method: 'POST',\n          body: JSON.stringify(user),\n          headers: { 'Content-type': 'application/json; charset=UTF-8' },\n        })\n      } catch (error) {\n        console.error(error)\n      }\n    },\n    onSubmit(evt) {\n      evt.preventDefault()\n      //check if entered pw and cfpw are valid or not\n      if(this.pwState && this.cfPwState) { //if both are valid\n        this.validateEmail(this.form.email).then((ableToAdd)=>{ \n          //check if email is valid or not\n          if(ableToAdd) { //if email hasnt been used\n            this.addUser(this.form).then(()=>{\n              this.validEmail = true\n              this.submitStatus = 'OK'\n            })\n            this.submitStatus = 'PENDING'\n          }\n          else { //if email exists in dtb\n            this.validEmail = false\n            this.submitStatus = 'ERROR'\n          }\n        })\n      } else {\n        this.submitStatus = 'ERROR'\n      }\n    },\n    \n    onReset(evt) {\n      evt.preventDefault()\n      // Reset our form values\n      this.form.email = ''\n      this.form.password = ''\n      this.form.cfpassword = ''\n      // Trick to reset/clear native browser form validation state\n      this.show = false\n      this.submitStatus = null\n      this.$nextTick(() => {\n        this.show = true\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/account"}]}