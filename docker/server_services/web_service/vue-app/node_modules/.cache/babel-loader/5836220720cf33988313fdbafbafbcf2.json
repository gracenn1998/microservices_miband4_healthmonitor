{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/thread-loader/dist/cjs.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/account/ChangePasswordForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/account/ChangePasswordForm.vue","mtime":1607366289745},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2dyYWNlL3BqL21pY3Jvc2VydmljZXNfbWliYW5kNF9oZWFsdGhtb25pdG9yL2Zyb250ZW5kL3Z1ZS1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm06IHsKICAgICAgICBjdXJyZW50UGFzc3dvcmQ6ICcnLAogICAgICAgIG5ld1Bhc3N3b3JkOiAnJywKICAgICAgICBjb25maXJtTmV3UGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIHN1Ym1pdFN0YXR1czogJycsCiAgICAgIHVzZXJfZGJfaG9zdDogdGhpcy4kYXBpX2hvc3RzWyd1c2VyX2RiX2FwaSddLAogICAgICB1c2VyX2RiX3BvcnQ6IHRoaXMuJGFwaV9wb3J0c1sndXNlcl9kYl9hcGknXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwd1N0YXRlOiBmdW5jdGlvbiBwd1N0YXRlKCkgewogICAgICBpZiAodGhpcy5mb3JtLm5ld1Bhc3N3b3JkID09ICcnKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmZvcm0ubmV3UGFzc3dvcmQubGVuZ3RoID49IDY7CiAgICB9LAogICAgY2ZQd1N0YXRlOiBmdW5jdGlvbiBjZlB3U3RhdGUoKSB7CiAgICAgIGlmICh0aGlzLmZvcm0uY29uZmlybU5ld1Bhc3N3b3JkID09ICcnKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmZvcm0uY29uZmlybU5ld1Bhc3N3b3JkID09IHRoaXMuZm9ybS5uZXdQYXNzd29yZDsKICAgIH0sCiAgICBpbnZhbGlkUHc6IGZ1bmN0aW9uIGludmFsaWRQdygpIHsKICAgICAgaWYgKHRoaXMuZm9ybS5uZXdQYXNzd29yZC5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuICdFbnRlciBhdCBsZWFzdCA2IGNoYXJhY3RlcnMuJzsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgaW52YWxpZENmUHc6IGZ1bmN0aW9uIGludmFsaWRDZlB3KCkgewogICAgICBpZiAodGhpcy5mb3JtLmNvbmZpcm1OZXdQYXNzd29yZC5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuICdDb25maXJtIHBhc3N3b3JkIG5lZWQgdG8gYmUgc2FtZSBhcyBwYXNzd29yZCc7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdmFsaWRhdGVQYXNzd29yZEFwaUNhbGw6IGZ1bmN0aW9uIHZhbGlkYXRlUGFzc3dvcmRBcGlDYWxsKHBhc3N3b3JkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB1c2VyX2lkLCByZXNwb25zZSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVzZXJfaWQgPSBfdGhpcy4kc2Vzc2lvbi5nZXQoJ3VzZXInKS5pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHA6Ly8iLmNvbmNhdChfdGhpcy51c2VyX2RiX2hvc3QsICI6IikuY29uY2F0KF90aGlzLnVzZXJfZGJfcG9ydCwgIi91c2Vycy8iKS5jb25jYXQodXNlcl9pZCwgIi92YWxpZGF0ZS1wYXNzd29yZCIpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzogcGFzc3dvcmQKICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0Wyd2YWxpZGF0ZS1yZXN1bHQnXSA9PSAnY29ycmVjdCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDEzXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjaGFuZ2VQYXNzd29yZEFwaUNhbGw6IGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkQXBpQ2FsbChuZXdQYXNzd29yZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciB1c2VyX2lkLCByZXNwb25zZSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1c2VyX2lkID0gX3RoaXMyLiRzZXNzaW9uLmdldCgndXNlcicpLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vIi5jb25jYXQoX3RoaXMyLnVzZXJfZGJfaG9zdCwgIjoiKS5jb25jYXQoX3RoaXMyLnVzZXJfZGJfcG9ydCwgIi91c2Vycy8iKS5jb25jYXQodXNlcl9pZCwgIi9jaGFuZ2UtcGFzc3dvcmQiKSwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IG5ld1Bhc3N3b3JkCiAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlc3VsdFsnY2hhbmdlLXB3LXJlc3VsdCddID09ICdzdWNjZWVkZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCAxM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hhbmdlUGFzc3dvcmQ6IGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8vdmFsaWRhdGUgY3VycmVudCBwdwogICAgICB0aGlzLnZhbGlkYXRlUGFzc3dvcmRBcGlDYWxsKHRoaXMuZm9ybS5jdXJyZW50UGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHZhbGlkYXRlUmVzdWx0KSB7CiAgICAgICAgaWYgKHZhbGlkYXRlUmVzdWx0KSB7CiAgICAgICAgICAvL2lmIGNvcnJlY3QKICAgICAgICAgIF90aGlzMy5jaGFuZ2VQYXNzd29yZEFwaUNhbGwoX3RoaXMzLmZvcm0ubmV3UGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgICBpZiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgLy9pZiBzdWNjZWVkZWQKICAgICAgICAgICAgICBfdGhpczMuc3VibWl0U3RhdHVzID0gJ09LJzsgLy8gdGhpcy4kZW1pdCgnZXhpdC1jaGFuZ2UtcHctbW9kZScpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuc3VibWl0U3RhdHVzID0gJ0VSUk9SJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnN1Ym1pdFN0YXR1cyA9ICdQRU5ESU5HJzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ChangePasswordForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <b-card-title class=\"text-center mt-2\" >\n        <div v-if=\"submitStatus === 'OK'\">\n            <b-alert variant=\"success\" show>Changed password successfully</b-alert>\n        </div>\n        <div v-if=\"submitStatus === 'ERROR'\">\n            <b-alert variant=\"danger\" show>Current password is incorrect. Please check again</b-alert>\n        </div>\n        <div v-if=\"submitStatus === 'PENDING'\">\n            <b-alert variant=\"info\" show>Sending request...</b-alert>\n        </div>\n\n        <b-form @submit.prevent=\"updateName\">\n            <b-form-group >\n                <b-form-input\n                    v-model=\"form.currentPassword\"\n                    type=\"password\"\n                    required\n                    placeholder=\"Enter current password\"\n                ></b-form-input>\n            </b-form-group>\n            \n            <b-form-group \n                :invalid-feedback=\"invalidPw\"\n                :state=\"pwState\"\n            >\n                <b-form-input\n                    v-model=\"form.newPassword\"\n                    :state=\"pwState\"\n                    type=\"password\"\n                    required\n                    placeholder=\"Enter new password\"\n                ></b-form-input>\n            </b-form-group>\n            \n            <b-form-group\n                :invalid-feedback=\"invalidCfPw\"\n                :state=\"cfPwState\"  \n            >\n                <b-form-input\n                    v-model=\"form.confirmNewPassword\"\n                    :state=\"cfPwState\"\n                    type=\"password\"\n                    required\n                    placeholder=\"Re-enter new password\"\n                ></b-form-input>\n            </b-form-group>\n            <div>\n              <b-button @click=\"changePassword\" variant=\"outline-success\" class=\"mr-1\">➕</b-button>\n              <b-button @click=\"$emit('exit-change-pw-mode')\" variant=\"outline-danger\">✖️</b-button>\n          </div>\n        </b-form>\n    </b-card-title>\n</template>\n\n<script>\nexport default {\n    data(){\n        return {\n            form: {\n                currentPassword: '',\n                newPassword: '',\n                confirmNewPassword: ''\n            },\n            submitStatus: '',\n            user_db_host: this.$api_hosts['user_db_api'],\n            user_db_port: this.$api_ports['user_db_api']\n        }\n    },\n    computed: {\n        pwState() {\n            if(this.form.newPassword=='') {\n                return null\n            }\n            return this.form.newPassword.length >= 6\n        },\n        cfPwState() {\n            if(this.form.confirmNewPassword=='') {\n                return null\n            }\n            return this.form.confirmNewPassword == this.form.newPassword\n        },\n        invalidPw() {\n            if (this.form.newPassword.length > 0) {\n                return 'Enter at least 6 characters.'\n            }\n            return null\n        },\n        invalidCfPw() {\n            if (this.form.confirmNewPassword.length > 0) {\n                return 'Confirm password need to be same as password'\n            }\n            return null\n        },\n    },\n\n    methods: {\n        async validatePasswordApiCall(password) {\n            const user_id = this.$session.get('user').id\n            try {\n                const response = await fetch(`http://${this.user_db_host}:${this.user_db_port}/users/${user_id}/validate-password`, {\n                method: 'POST',\n                body: JSON.stringify({\n                    'password': password\n                    }),\n                headers: { 'Content-type': 'application/json; charset=UTF-8' },\n                })\n                const result = await response.json()\n                if (result['validate-result']=='correct') { //sign in successfully\n                    return true\n                }\n                return false\n            } catch (error) {\n                console.error(error)\n            }\n        },\n\n        async changePasswordApiCall(newPassword) {\n            const user_id = this.$session.get('user').id\n            try {\n                const response = await fetch(`http://${this.user_db_host}:${this.user_db_port}/users/${user_id}/change-password`, {\n                method: 'POST',\n                body: JSON.stringify({\n                    'password': newPassword\n                    }),\n                headers: { 'Content-type': 'application/json; charset=UTF-8' },\n                })\n                const result = await response.json()\n                if (result['change-pw-result']=='succeeded') { //sign in successfully\n                    return true\n                }\n                return false\n            } catch (error) {\n                console.error(error)\n            }\n        },\n\n        changePassword(){\n            //validate current pw\n            this.validatePasswordApiCall(this.form.currentPassword).then((validateResult)=>{\n                if(validateResult) {//if correct\n                    this.changePasswordApiCall(this.form.newPassword).then((result)=>{\n                        if(result) {//if succeeded\n                            this.submitStatus = 'OK'\n                            // this.$emit('exit-change-pw-mode')\n                        }\n                    })\n                }\n                else {\n                    this.submitStatus = 'ERROR'\n                }\n            })\n            this.submitStatus = 'PENDING'\n        }\n\n\n    }\n}\n</script>"],"sourceRoot":"src/components/account"}]}