{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/eslint-loader/index.js??ref--13-0!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/api_calls/MibandDb.js","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/api_calls/MibandDb.js","mtime":1608333072937},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2dyYWNlL3BqL21pY3Jvc2VydmljZXNfbWliYW5kNF9oZWFsdGhtb25pdG9yL2Zyb250ZW5kL3Z1ZS1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBtaWJhbmRfZGJfYXBpX2hvc3QgYXMgbWliYW5kX2RiX2hvc3QsIG1pYmFuZF9kYl9hcGlfcG9ydCBhcyBtaWJhbmRfZGJfcG9ydCB9IGZyb20gJy4vQXBpQ29uZmlnLmpzJzsKZXhwb3J0IGZ1bmN0aW9uIHBhaXJOZXdCYW5kRHRiQXBpQ2FsbChfeCwgX3gyKSB7CiAgcmV0dXJuIF9wYWlyTmV3QmFuZER0YkFwaUNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3BhaXJOZXdCYW5kRHRiQXBpQ2FsbCgpIHsKICBfcGFpck5ld0JhbmREdGJBcGlDYWxsID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVpZCwgbWliYW5kKSB7CiAgICB2YXIgYm9keWRhdGEsIGtleSwgcmVzcG9uc2UsIHJlc3VsdDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgYm9keWRhdGEgPSB7fTsKCiAgICAgICAgICAgIGZvciAoa2V5IGluIG1pYmFuZCkgewogICAgICAgICAgICAgIGJvZHlkYXRhW2tleV0gPSBtaWJhbmRba2V5XTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYm9keWRhdGFbJ3VzZXJfaWQnXSA9IHVpZDsKICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHA6Ly8iLmNvbmNhdChtaWJhbmRfZGJfaG9zdCwgIjoiKS5jb25jYXQobWliYW5kX2RiX3BvcnQsICIvYmFuZHMiKSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHlkYXRhKSwKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgaWYgKCEocmVzdWx0WydhZGQtYmFuZC1yZXN1bHQnXSA9PSAnc3VjY2VlZGVkJykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdFsnYmFuZC1pbmZvJ10pOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxNzsKICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgzKTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dC50MCk7CgogICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzMsIDE3XV0pOwogIH0pKTsKICByZXR1cm4gX3BhaXJOZXdCYW5kRHRiQXBpQ2FsbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gcGFpckF2YWlsYWJsZUJhbmREdGJBcGlDYWxsKF94MywgX3g0KSB7CiAgcmV0dXJuIF9wYWlyQXZhaWxhYmxlQmFuZER0YkFwaUNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3BhaXJBdmFpbGFibGVCYW5kRHRiQXBpQ2FsbCgpIHsKICBfcGFpckF2YWlsYWJsZUJhbmREdGJBcGlDYWxsID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMih1aWQsIG1pYmFuZCkgewogICAgdmFyIGJhbmRfaWQsIGJvZHlkYXRhLCBrZXksIHJlc3BvbnNlLCByZXN1bHQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBiYW5kX2lkID0gbWliYW5kLmlkOwogICAgICAgICAgICBib2R5ZGF0YSA9IHt9OwoKICAgICAgICAgICAgZm9yIChrZXkgaW4gbWliYW5kKSB7CiAgICAgICAgICAgICAgYm9keWRhdGFba2V5XSA9IG1pYmFuZFtrZXldOwogICAgICAgICAgICB9CgogICAgICAgICAgICBib2R5ZGF0YVsndXNlcl9pZCddID0gdWlkOwogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQ7CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vIi5jb25jYXQobWliYW5kX2RiX2hvc3QsICI6IikuY29uY2F0KG1pYmFuZF9kYl9wb3J0LCAiL2JhbmRzLyIpLmNvbmNhdChiYW5kX2lkLCAiL3VwZGF0ZS1uZXctdXNlciIpLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJywKICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5ZGF0YSksCiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgaWYgKCEocmVzdWx0WydhZGQtYmFuZC1yZXN1bHQnXSA9PSAnc3VjY2VlZGVkJykpIHsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzdWx0WydiYW5kLWluZm8nXSk7CgogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIxOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE4OwogICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oNCk7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1s0LCAxOF1dKTsKICB9KSk7CiAgcmV0dXJuIF9wYWlyQXZhaWxhYmxlQmFuZER0YkFwaUNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldEJhbmRCeVNlcmlhbChfeDUpIHsKICByZXR1cm4gX2dldEJhbmRCeVNlcmlhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0QmFuZEJ5U2VyaWFsKCkgewogIF9nZXRCYW5kQnlTZXJpYWwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKHNlcmlhbCkgewogICAgdmFyIHBhcmFtcywgcmVzcG9uc2UsIHJlc3VsdDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHBhcmFtcyA9ICdzZXJpYWw9JyArIHNlcmlhbDsKICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLyIuY29uY2F0KG1pYmFuZF9kYl9ob3N0LCAiOiIpLmNvbmNhdChtaWJhbmRfZGJfcG9ydCwgIi9iYW5kcy9maW5kLWJ5LXNlcmlhbD8iKS5jb25jYXQocGFyYW1zKSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgIGlmICghKHJlc3VsdFsnZ2V0LWJhbmQtcmVzdWx0J10gPT0gJ3N1Y2NlZWRlZCcpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHJlc3VsdFsnYmFuZC1pbmZvJ10pOwoKICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNTsKICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDMudDApOwoKICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsIDE1XV0pOwogIH0pKTsKICByZXR1cm4gX2dldEJhbmRCeVNlcmlhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0VXNlckJhbmRJbmZvKF94NikgewogIHJldHVybiBfZ2V0VXNlckJhbmRJbmZvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9nZXRVc2VyQmFuZEluZm8oKSB7CiAgX2dldFVzZXJCYW5kSW5mbyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQodWlkKSB7CiAgICB2YXIgcGFyYW1zLCByZXNwb25zZSwgcmVzdWx0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgcGFyYW1zID0gJz91c2VyX2lkPScgKyB1aWQ7CiAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMTsKICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHA6Ly8iLmNvbmNhdChtaWJhbmRfZGJfaG9zdCwgIjoiKS5jb25jYXQobWliYW5kX2RiX3BvcnQsICIvYmFuZHMvZmluZC1ieS11c2VyaWQiKS5jb25jYXQocGFyYW1zKSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDc7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgIGlmICghKHJlc3VsdFsnZ2V0LWJhbmQtcmVzdWx0J10gPT0gJ3N1Y2NlZWRlZCcpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIHJlc3VsdFsnYmFuZC1pbmZvJ10pOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAxMzsKICAgICAgICAgICAgX2NvbnRleHQ0LnQwID0gX2NvbnRleHQ0WyJjYXRjaCJdKDEpOwoKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzEsIDEzXV0pOwogIH0pKTsKICByZXR1cm4gX2dldFVzZXJCYW5kSW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZ2V0VXNlckxvZ0J5VGltZURiQXBpQ2FsbChfeDcsIF94OCwgX3g5KSB7CiAgcmV0dXJuIF9nZXRVc2VyTG9nQnlUaW1lRGJBcGlDYWxsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9nZXRVc2VyTG9nQnlUaW1lRGJBcGlDYWxsKCkgewogIF9nZXRVc2VyTG9nQnlUaW1lRGJBcGlDYWxsID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSh1aWQsIHN0YXJ0LCBlbmQpIHsKICAgIHZhciBwYXJhbXMsIHJlc3BvbnNlLCByZXN1bHQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBwYXJhbXMgPSAnc3RhcnQ9JyArIHN0YXJ0ICsgJyZlbmQ9JyArIGVuZDsKICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAxOwogICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDQ7CiAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLyIuY29uY2F0KG1pYmFuZF9kYl9ob3N0LCAiOiIpLmNvbmNhdChtaWJhbmRfZGJfcG9ydCwgIi91c2Vycy8iKS5jb25jYXQodWlkLCAiL2xvZ3MvZ2V0LWJ5LXRpbWU/IikuY29uY2F0KHBhcmFtcykpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA3OwogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICBpZiAoIShyZXN1bHRbJ2dldC1sb2dzLXJlc3VsdCddID09PSAnc3VjY2VlZGVkJykpIHsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0Wydsb2dzJ10pOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgX2NvbnRleHQ1LnByZXYgPSAxMzsKICAgICAgICAgICAgX2NvbnRleHQ1LnQwID0gX2NvbnRleHQ1WyJjYXRjaCJdKDEpOwoKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU1LCBudWxsLCBbWzEsIDEzXV0pOwogIH0pKTsKICByZXR1cm4gX2dldFVzZXJMb2dCeVRpbWVEYkFwaUNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGdldExhc3RGZXRjaGluZ0RhdGFUaW1lc3RhbXBEYkFwaUNhbGwoX3gxMCkgewogIHJldHVybiBfZ2V0TGFzdEZldGNoaW5nRGF0YVRpbWVzdGFtcERiQXBpQ2FsbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZ2V0TGFzdEZldGNoaW5nRGF0YVRpbWVzdGFtcERiQXBpQ2FsbCgpIHsKICBfZ2V0TGFzdEZldGNoaW5nRGF0YVRpbWVzdGFtcERiQXBpQ2FsbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoYmlkKSB7CiAgICB2YXIgcmVzcG9uc2UsIHJlc3VsdDsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMDsKICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzOwogICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHA6Ly8iLmNvbmNhdChtaWJhbmRfZGJfaG9zdCwgIjoiKS5jb25jYXQobWliYW5kX2RiX3BvcnQsICIvYmFuZHMvIikuY29uY2F0KGJpZCwgIi9sYXN0LWZldGNoLXRpbWUiKSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Ni5zZW50OwogICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgIGlmICghKHJlc3VsdFsnZ2V0LXRpbWVzdGFtcC1yZXN1bHQnXSA9PSAnc3VjY2VlZGVkJykpIHsKICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0WydsYXN0LWZldGNoLXRpbWVzdGFtcCddKTsKCiAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMTQ7CiAgICAgICAgICAgIF9jb250ZXh0Ni50MCA9IF9jb250ZXh0NlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ2LnQwKTsKCiAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlNiwgbnVsbCwgW1swLCAxNF1dKTsKICB9KSk7CiAgcmV0dXJuIF9nZXRMYXN0RmV0Y2hpbmdEYXRhVGltZXN0YW1wRGJBcGlDYWxsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBzZXRMYXN0RmV0Y2hpbmdEYXRhVGltZXN0YW1wRGJBcGlDYWxsKF94MTEsIF94MTIpIHsKICByZXR1cm4gX3NldExhc3RGZXRjaGluZ0RhdGFUaW1lc3RhbXBEYkFwaUNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX3NldExhc3RGZXRjaGluZ0RhdGFUaW1lc3RhbXBEYkFwaUNhbGwoKSB7CiAgX3NldExhc3RGZXRjaGluZ0RhdGFUaW1lc3RhbXBEYkFwaUNhbGwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KGJpZCwgbGFzdCkgewogICAgdmFyIHJlc3BvbnNlLCByZXN1bHQ7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDcucHJldiA9IDA7CiAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gMzsKICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vIi5jb25jYXQodGhpcy5taWJhbmRfZGJfaG9zdCwgIjoiKS5jb25jYXQodGhpcy5taWJhbmRfZGJfcG9ydCwgIi9iYW5kcy8iKS5jb25jYXQoYmlkLCAiL2xhc3QtZmV0Y2gtdGltZSIpLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgJ2xhc3QnOiB1dGNTdHIKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgIGlmICghKHJlc3VsdFsnc2V0LXRpbWVzdGFtcC1yZXN1bHQnXSA9PSAnc3VjY2VlZGVkJykpIHsKICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAxMDsKICAgICAgICAgICAgX2NvbnRleHQ3LnQwID0gX2NvbnRleHQ3WyJjYXRjaCJdKDApOwogICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDcudDApOwoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWU3LCB0aGlzLCBbWzAsIDEwXV0pOwogIH0pKTsKICByZXR1cm4gX3NldExhc3RGZXRjaGluZ0RhdGFUaW1lc3RhbXBEYkFwaUNhbGwuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGFkZExvZ3NEYkFwaUNhbGwoX3gxMywgX3gxNCwgX3gxNSkgewogIHJldHVybiBfYWRkTG9nc0RiQXBpQ2FsbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfYWRkTG9nc0RiQXBpQ2FsbCgpIHsKICBfYWRkTG9nc0RiQXBpQ2FsbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgodWlkLCBiaWQsIGxvZ3MpIHsKICAgIHZhciByZXNwb25zZSwgcmVzdWx0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAwOwogICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLyIuY29uY2F0KG1pYmFuZF9kYl9ob3N0LCAiOiIpLmNvbmNhdChtaWJhbmRfZGJfcG9ydCwgIi9iYW5kcy8iKS5jb25jYXQoYmlkLCAiLyIpLmNvbmNhdCh1aWQsICIvbG9ncyIpLCB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobG9ncyksCiAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDY7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDguc2VudDsKCiAgICAgICAgICAgIGlmICghKHJlc3VsdFsnYWRkLWxvZ3MtcmVzdWx0J10gPT0gJ3N1Y2NlZWRlZCcpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxMTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxNzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgX2NvbnRleHQ4LnByZXYgPSAxNDsKICAgICAgICAgICAgX2NvbnRleHQ4LnQwID0gX2NvbnRleHQ4WyJjYXRjaCJdKDApOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0OC50MCk7CgogICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTgsIG51bGwsIFtbMCwgMTRdXSk7CiAgfSkpOwogIHJldHVybiBfYWRkTG9nc0RiQXBpQ2FsbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gdW5wYWlyQmFuZERiQXBpQ2FsbChfeDE2KSB7CiAgcmV0dXJuIF91bnBhaXJCYW5kRGJBcGlDYWxsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF91bnBhaXJCYW5kRGJBcGlDYWxsKCkgewogIF91bnBhaXJCYW5kRGJBcGlDYWxsID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOShiaWQpIHsKICAgIHZhciByZXNwb25zZSwgcmVzdWx0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX2NvbnRleHQ5LnByZXYgPSAwOwogICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLyIuY29uY2F0KG1pYmFuZF9kYl9ob3N0LCAiOiIpLmNvbmNhdChtaWJhbmRfZGJfcG9ydCwgIi9iYW5kcy8iKS5jb25jYXQoYmlkLCAiL3VucGFpciIpKTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ5LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0OS5zZW50OwoKICAgICAgICAgICAgaWYgKCEocmVzdWx0Wyd1bnBhaXItYmFuZC1yZXN1bHQnXSA9PSAic3VjY2VlZGVkIikpIHsKICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDExOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDE2OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBfY29udGV4dDkucHJldiA9IDE0OwogICAgICAgICAgICBfY29udGV4dDkudDAgPSBfY29udGV4dDlbImNhdGNoIl0oMCk7CgogICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTksIG51bGwsIFtbMCwgMTRdXSk7CiAgfSkpOwogIHJldHVybiBfdW5wYWlyQmFuZERiQXBpQ2FsbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpleHBvcnQgZnVuY3Rpb24gZGVsZXRlVXNlckxvZ3NBcGlDYWxsKF94MTcpIHsKICByZXR1cm4gX2RlbGV0ZVVzZXJMb2dzQXBpQ2FsbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBfZGVsZXRlVXNlckxvZ3NBcGlDYWxsKCkgewogIF9kZWxldGVVc2VyTG9nc0FwaUNhbGwgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCh1aWQpIHsKICAgIHZhciByZXNwb25zZSwgcmVzdWx0OwogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMCQoX2NvbnRleHQxMCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0MTAucHJldiA9IDA7CiAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDM7CiAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLyIuY29uY2F0KG1pYmFuZF9kYl9ob3N0LCAiOiIpLmNvbmNhdChtaWJhbmRfZGJfcG9ydCwgIi91c2Vycy8iKS5jb25jYXQodWlkLCAiL2xvZ3MiKSwgewogICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScKICAgICAgICAgICAgfSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0MTAuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gNjsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0MTAuc2VudDsKCiAgICAgICAgICAgIGlmICghKHJlc3VsdFsnZGVsZXRlLXJlc3VsdCddID09ICdzdWNjZWVkZWQnKSkgewogICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBfY29udGV4dDEwLnByZXYgPSAxMjsKICAgICAgICAgICAgX2NvbnRleHQxMC50MCA9IF9jb250ZXh0MTBbImNhdGNoIl0oMCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0MTAudDApOwoKICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMTAsIG51bGwsIFtbMCwgMTJdXSk7CiAgfSkpOwogIHJldHVybiBfZGVsZXRlVXNlckxvZ3NBcGlDYWxsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0="},{"version":3,"sources":["/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/api_calls/MibandDb.js"],"names":["miband_db_api_host","miband_db_host","miband_db_api_port","miband_db_port","pairNewBandDtbApiCall","uid","miband","bodydata","key","fetch","method","body","JSON","stringify","headers","response","json","result","console","error","pairAvailableBandDtbApiCall","band_id","id","getBandBySerial","serial","params","log","getUserBandInfo","getUserLogByTimeDbApiCall","start","end","getLastFetchingDataTimestampDbApiCall","bid","setLastFetchingDataTimestampDbApiCall","last","utcStr","addLogsDbApiCall","logs","unpairBandDbApiCall","deleteUserLogsApiCall"],"mappings":"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","sourcesContent":["import {miband_db_api_host as miband_db_host, miband_db_api_port as miband_db_port} from './ApiConfig.js'\n\nexport async function pairNewBandDtbApiCall(uid, miband) {\n    const bodydata = {}\n    for (var key in miband) {\n      bodydata[key] = miband[key]\n    }\n    bodydata['user_id'] = uid\n    try {\n        const response = await fetch(`http://${miband_db_host}:${miband_db_port}/bands`, {\n        method: 'POST',\n        body: JSON.stringify(\n            bodydata\n            ),\n        headers: { 'Content-type': 'application/json; charset=UTF-8' },\n        })\n        const result = await response.json()\n        if(result['add-band-result']=='succeeded') {\n          return result['band-info']\n        }\n        else return false\n    } catch (error) {\n        console.error(error)\n    }\n}\n\nexport async function pairAvailableBandDtbApiCall(uid, miband) {\n    const band_id = miband.id\n    const bodydata = {}\n    for (var key in miband) {\n      bodydata[key] = miband[key]\n    }\n    bodydata['user_id'] = uid\n    try {\n        const response = await fetch(`http://${miband_db_host}:${miband_db_port}/bands/${band_id}/update-new-user`, {\n        method: 'PUT',\n        body: JSON.stringify(\n            bodydata\n            ),\n        headers: { 'Content-type': 'application/json; charset=UTF-8' },\n        })\n        const result = await response.json()\n        if(result['add-band-result']=='succeeded') {\n          return result['band-info']\n        }\n        else return false\n    } catch (error) {\n        console.error(error)\n    }\n}\n\nexport async function getBandBySerial(serial) {\n  const params = 'serial='+serial\n  try {\n    const response = await fetch(`http://${miband_db_host}:${miband_db_port}/bands/find-by-serial?${params}`)\n    const result = await response.json()\n    if(result['get-band-result']=='succeeded'){\n      return result['band-info']\n    }\n    else return false\n  }\n  catch (error){\n    console.log(error)\n  }\n}\n\n\nexport async function getUserBandInfo(uid) {\n    const params = '?user_id='+uid\n    try {\n        const response = await fetch(`http://${miband_db_host}:${miband_db_port}/bands/find-by-userid${params}`)\n        const result = await response.json()\n        if(result['get-band-result']=='succeeded'){\n        return result['band-info']\n        }\n        return false\n    } catch (error) {\n        // do something with `error`\n    }\n}\n\nexport async function getUserLogByTimeDbApiCall(uid, start, end) {\n    const params = 'start='+start + '&end='+end\n    try {\n        const response = await fetch(`http://${miband_db_host}:${miband_db_port}/users/${uid}/logs/get-by-time?${params}`)\n        \n        const result = await response.json()\n        if(result['get-logs-result']==='succeeded')\n            return result['logs']\n        return false\n    } catch (error) {\n        // do something with `error`\n    }\n}\n\nexport async function getLastFetchingDataTimestampDbApiCall(bid) {\n    try {\n        const response = await fetch(`http://${miband_db_host}:${miband_db_port}/bands/${bid}/last-fetch-time`)\n        const result = await response.json()\n        if(result['get-timestamp-result']=='succeeded'){\n            return result['last-fetch-timestamp']\n        }\n        else return false\n    } catch (error){\n        console.log(error)\n    }\n}\n\nexport async function setLastFetchingDataTimestampDbApiCall(bid, last){\n    try{\n        const response = await fetch(`http://${this.miband_db_host}:${this.miband_db_port}/bands/${bid}/last-fetch-time`, {\n        method: 'POST',\n        body: JSON.stringify({\n            'last': utcStr\n            }),\n        headers: { 'Content-type': 'application/json; charset=UTF-8' },\n        })\n        const result = response.json()\n        if(result['set-timestamp-result']=='succeeded') {\n            return true\n        }\n        return false\n    }\n    catch (error) {\n        console.log(error)\n    }\n}\n\n\nexport async function addLogsDbApiCall(uid, bid, logs) {\n    try {\n        const response = await fetch(`http://${miband_db_host}:${miband_db_port}/bands/${bid}/${uid}/logs`, {\n        method: 'POST',\n        body: JSON.stringify(logs),\n        headers: { 'Content-type': 'application/json; charset=UTF-8' },\n        })\n        const result = await response.json()\n        if(result['add-logs-result']=='succeeded'){\n            return true\n        }\n        else return false\n    } catch (error) {\n        console.error(error)\n    }\n}\n\nexport async function unpairBandDbApiCall(bid) {\n    try {\n        const response = await fetch(`http://${miband_db_host}:${miband_db_port}/bands/${bid}/unpair`)\n        const result = await response.json()\n\n        // do something with `data`\n        if(result['unpair-band-result']==\"succeeded\")\n            return true\n        else return false\n    } catch (error) {\n        // do something with `error`\n    }\n}\n\nexport async function deleteUserLogsApiCall(uid) {\n    try {\n        const response = await fetch(`http://${miband_db_host}:${miband_db_port}/users/${uid}/logs`, {\n            method: 'DELETE'\n        })\n        const result = await response.json()\n        if(result['delete-result']=='succeeded') {\n            return true\n        }\n        return false\n    }\n    catch (error) {\n        console.log(error)\n    }\n}"]}]}