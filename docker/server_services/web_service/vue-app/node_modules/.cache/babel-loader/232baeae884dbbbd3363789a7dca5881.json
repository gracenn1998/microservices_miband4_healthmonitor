{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/thread-loader/dist/cjs.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/data/DataType.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/data/DataType.vue","mtime":1607529131342},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZW50cmllcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2dyYWNlL3BqL21pY3Jvc2VydmljZXNfbWliYW5kNF9oZWFsdGhtb25pdG9yL2Zyb250ZW5kL3Z1ZS1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgRGF0YUNoYXJ0IGZyb20gJ0AvY29tcG9uZW50cy9kYXRhL0RhdGFDaGFydCc7CnZhciB0b2RheSA9IG5ldyBEYXRlKCk7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBEYXRhQ2hhcnQ6IERhdGFDaGFydAogIH0sCiAgcHJvcHM6IFsndHlwZSddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3Rpdml0eWRhdGE6IHt9LAogICAgICB3aG9sZWRheURhdGE6IHt9LAogICAgICBob3VyRGF0YToge30sCiAgICAgIGxhYmVsczogW10sCiAgICAgIGRhdGE6IFtdLAogICAgICBtb2RlOiAtMSwKICAgICAgZGF0ZXZhbHVlOiB0b2RheS5nZXRGdWxsWWVhcigpICsgJy0nICsgU3RyaW5nKHRvZGF5LmdldE1vbnRoKCkgKyAxKSArICctJyArIHRvZGF5LmdldERhdGUoKSwKICAgICAgaG91cnZhbHVlOiBudWxsLAogICAgICBjaGFydGtleTogZmFsc2UsCiAgICAgIGdldERhdGFTdGF0dXM6ICcnLAogICAgICBtaWJhbmRfaG9zdDogdGhpcy4kYXBpX2hvc3RzWydtaWJhbmRfYXBpJ10sCiAgICAgIG1pYmFuZF9wb3J0OiB0aGlzLiRhcGlfcG9ydHNbJ21pYmFuZF9hcGknXSwKICAgICAgbWliYW5kX2RiX2hvc3Q6IHRoaXMuJGFwaV9ob3N0c1snbWliYW5kX2RiX2FwaSddLAogICAgICBtaWJhbmRfZGJfcG9ydDogdGhpcy4kYXBpX3BvcnRzWydtaWJhbmRfZGJfYXBpJ10sCiAgICAgIGxhc3RHZXREYXRhVGltZTogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuYWRkRGF0YUZyb21MYXN0VGltZXN0YW1wRGIoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuZ2V0RGF0YWJ5RGF0ZURiKF90aGlzLmRhdGV2YWx1ZSk7CiAgICB9KTsKICAgIHRoaXMuZ2V0RGF0YWJ5RGF0ZURiKHRoaXMuZGF0ZXZhbHVlKTsKICAgIHRoaXMuZ2VuZXJhdGVEYXRhU2V0KCk7CiAgfSwKICB3YXRjaDogewogICAgZGF0ZXZhbHVlOiBmdW5jdGlvbiBkYXRldmFsdWUoKSB7CiAgICAgIHRoaXMuZ2V0RGF0YWJ5RGF0ZURiKHRoaXMuZGF0ZXZhbHVlKTsKICAgIH0sCiAgICBnZXREYXRhU3RhdHVzOiBmdW5jdGlvbiBnZXREYXRhU3RhdHVzKCkgewogICAgICBpZiAodGhpcy5nZXREYXRhU3RhdHVzID09ICdPSycpIHsKICAgICAgICB0aGlzLmdlbmVyYXRlRGF0YVNldCgpOwogICAgICAgIHRoaXMuY3JlYXRlQ2hhcnREYXRhKCk7CiAgICAgIH0KICAgIH0sCiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICB0aGlzLmNoYXJ0a2V5ID0gIXRoaXMuY2hhcnRrZXk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZW5lcmF0ZURhdGFTZXQ6IGZ1bmN0aW9uIGdlbmVyYXRlRGF0YVNldCgpIHsKICAgICAgdmFyIGxvZ3MgPSB0aGlzLmFjdGl2aXR5ZGF0YTsKICAgICAgdmFyIGhvdXJEYXRhID0ge307CgogICAgICBmb3IgKHZhciBpIGluIGxvZ3MpIHsKICAgICAgICB2YXIgdGltZXN0YW1wID0gbG9nc1tpXS50aW1lc3RhbXA7CiAgICAgICAgdmFyIHRtcCA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7CiAgICAgICAgdmFyIGhvdXIgPSB0bXAuZ2V0SG91cnMoKTsKICAgICAgICB2YXIgbWludXRlID0gdG1wLmdldE1pbnV0ZXMoKTsgLy8gZGF0YU9mSG91clsiYXNkIl0gPSAiYXNkIgoKICAgICAgICBpZiAoaG91ckRhdGFbU3RyaW5nKGhvdXIpXSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGhvdXJEYXRhW1N0cmluZyhob3VyKV0gPSB7fTsKCiAgICAgICAgICBpZiAodGhpcy50eXBlID09ICdocicpIHsKICAgICAgICAgICAgaG91ckRhdGFbU3RyaW5nKGhvdXIpXVsnc3VtJ10gPSAwOwogICAgICAgICAgICBob3VyRGF0YVtTdHJpbmcoaG91cildWyd2YWxpZC1jbnQnXSA9IDA7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PSAnc3RlcHMnKSB7CiAgICAgICAgICAgIGhvdXJEYXRhW1N0cmluZyhob3VyKV1bJ3N1bSddID0gMDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBociA9IGxvZ3NbaV0uaGVhcnRyYXRlOwogICAgICAgIHZhciBzdGVwcyA9IGxvZ3NbaV0uc3RlcHM7CiAgICAgICAgaG91ckRhdGFbU3RyaW5nKGhvdXIpXVtTdHJpbmcobWludXRlKV0gPSB0aGlzLnR5cGUgPT0gJ2hyJyA/IGhyIDogc3RlcHM7CgogICAgICAgIGlmICh0aGlzLnR5cGUgPT0gJ2hyJyAmJiBociAhPSAyNTUpIHsKICAgICAgICAgIGhvdXJEYXRhW1N0cmluZyhob3VyKV1bJ3N1bSddICs9IGhyOwogICAgICAgICAgaG91ckRhdGFbU3RyaW5nKGhvdXIpXVsndmFsaWQtY250J10rKzsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PSAnc3RlcHMnKSB7CiAgICAgICAgICBob3VyRGF0YVtTdHJpbmcoaG91cildWydzdW0nXSArPSBzdGVwczsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciB3aG9sZWRheURhdGEgPSB7fTsKCiAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgMjQ7IGgrKykgewogICAgICAgIGlmIChob3VyRGF0YVtoXSAhPSB1bmRlZmluZWQpIHdob2xlZGF5RGF0YVtoXSA9IHRoaXMudHlwZSA9PSAnaHInID8gTWF0aC5yb3VuZChob3VyRGF0YVtoXVsnc3VtJ10gLyBob3VyRGF0YVtoXVsndmFsaWQtY250J10pIDogaG91ckRhdGFbaF1bJ3N1bSddO2Vsc2Ugd2hvbGVkYXlEYXRhW2hdID0gdW5kZWZpbmVkOwogICAgICB9CgogICAgICB0aGlzLndob2xlZGF5RGF0YSA9IHdob2xlZGF5RGF0YTsKICAgICAgdGhpcy5ob3VyRGF0YSA9IGhvdXJEYXRhOwogICAgfSwKICAgIGNyZWF0ZUNoYXJ0RGF0YTogZnVuY3Rpb24gY3JlYXRlQ2hhcnREYXRhKG1vZGUpIHsKICAgICAgdGhpcy5sYWJlbHMgPSBbXTsKICAgICAgdGhpcy5kYXRhID0gW107CiAgICAgIHZhciBoOwoKICAgICAgaWYgKG1vZGUgPT0gbnVsbCkgewogICAgICAgIGZvciAoaCA9IDA7IGggPCAyNDsgaCsrKSB7CiAgICAgICAgICB0aGlzLmxhYmVscy5wdXNoKFN0cmluZyhoKSArICc6MDAnKTsKICAgICAgICAgIHRoaXMuZGF0YS5wdXNoKHRoaXMud2hvbGVkYXlEYXRhW2hdKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaCA9IG1vZGU7CiAgICAgICAgdmFyIG1pbnV0ZTsKCiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCA2MDsgbSsrKSB7CiAgICAgICAgICBpZiAoU3RyaW5nKG0pLmxlbmd0aCA8IDIpIHsKICAgICAgICAgICAgbWludXRlID0gJzAnICsgU3RyaW5nKG0pOwogICAgICAgICAgfSBlbHNlIG1pbnV0ZSA9IG07CgogICAgICAgICAgdGhpcy5sYWJlbHMucHVzaChTdHJpbmcoaCkgKyAnOicgKyBTdHJpbmcobWludXRlKSk7CgogICAgICAgICAgaWYgKHRoaXMuaG91ckRhdGFbaF0gIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHZhciBicG0gPSB0aGlzLmhvdXJEYXRhW2hdW21dOwogICAgICAgICAgICBpZiAoYnBtID09IDI1NSkgYnBtID0gbnVsbDsKICAgICAgICAgICAgdGhpcy5kYXRhLnB1c2goYnBtKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBhZGRMb2dzRGI6IGZ1bmN0aW9uIGFkZExvZ3NEYihsb2dzKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYmFuZF9pZCwgdXNlcl9pZCwgcmVzcG9uc2UsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBiYW5kX2lkID0gX3RoaXMyLiRzZXNzaW9uLmdldCgnbWliYW5kJykuaWQ7CiAgICAgICAgICAgICAgICB1c2VyX2lkID0gX3RoaXMyLiRzZXNzaW9uLmdldCgndXNlcicpLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLyIuY29uY2F0KF90aGlzMi5taWJhbmRfZGJfaG9zdCwgIjoiKS5jb25jYXQoX3RoaXMyLm1pYmFuZF9kYl9wb3J0LCAiL2JhbmRzLyIpLmNvbmNhdChiYW5kX2lkLCAiLyIpLmNvbmNhdCh1c2VyX2lkLCAiL2xvZ3MiKSwgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobG9ncyksCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0WydhZGQtbG9ncy1yZXN1bHQnXSA9PSAnc3VjY2VlZGVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE2OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1syLCAxNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0RGF0YUJ5VGltZUFwaUNhbGxEYjogZnVuY3Rpb24gZ2V0RGF0YUJ5VGltZUFwaUNhbGxEYihzdGFydCwgZW5kKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHVzZXJpZCwgcGFyYW1zLCByZXNwb25zZSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1c2VyaWQgPSBfdGhpczMuJHNlc3Npb24uZ2V0KCd1c2VyJykuaWQ7CiAgICAgICAgICAgICAgICBwYXJhbXMgPSAnc3RhcnQ9JyArIHN0YXJ0ICsgJyZlbmQ9JyArIGVuZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLyIuY29uY2F0KF90aGlzMy5taWJhbmRfZGJfaG9zdCwgIjoiKS5jb25jYXQoX3RoaXMzLm1pYmFuZF9kYl9wb3J0LCAiL3VzZXJzLyIpLmNvbmNhdCh1c2VyaWQsICIvbG9ncy9nZXQtYnktdGltZT8iKS5jb25jYXQocGFyYW1zKSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXN1bHRbJ2dldC1sb2dzLXJlc3VsdCddID09PSAnc3VjY2VlZGVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHJlc3VsdFsnbG9ncyddKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE0OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDE0XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXREYXRhYnlEYXRlRGI6IGZ1bmN0aW9uIGdldERhdGFieURhdGVEYihpbnB1dGRhdGVzdHIpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZShpbnB1dGRhdGVzdHIpOwogICAgICB2YXIgc3RhcnRUcywgZW5kVHMsIHN0YXJ0c3RyLCBlbmRzdHI7CiAgICAgIHN0YXJ0VHMgPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCkpOwogICAgICBlbmRUcyA9IG5ldyBEYXRlKHRvZGF5LmdldEZ1bGxZZWFyKCksIHRvZGF5LmdldE1vbnRoKCksIHRvZGF5LmdldERhdGUoKSwgMjMsIDU5KTsKICAgICAgc3RhcnRzdHIgPSB0aGlzLmdlbmVyYXRlQXBpVVRDVGltZVN0cihzdGFydFRzKTsKICAgICAgZW5kc3RyID0gdGhpcy5nZW5lcmF0ZUFwaVVUQ1RpbWVTdHIoZW5kVHMpOwogICAgICB0aGlzLmdldERhdGFCeVRpbWVBcGlDYWxsRGIoc3RhcnRzdHIsIGVuZHN0cikudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgX3RoaXM0LmFjdGl2aXR5ZGF0YSA9IHJlc3VsdDsKICAgICAgICBfdGhpczQuZ2V0RGF0YVN0YXR1cyA9ICJPSyI7CiAgICAgIH0pOwogICAgICB0aGlzLmdldERhdGFTdGF0dXMgPSAiUEVORElORyI7CiAgICB9LAogICAgZ2V0TGFzdEZldGNoaW5nRGF0YVRpbWVzdGFtcERiOiBmdW5jdGlvbiBnZXRMYXN0RmV0Y2hpbmdEYXRhVGltZXN0YW1wRGIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGJhbmRpZCwgcmVzcG9uc2UsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgYmFuZGlkID0gX3RoaXM1LiRzZXNzaW9uLmdldCgnbWliYW5kJykuaWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHA6Ly8iLmNvbmNhdChfdGhpczUubWliYW5kX2RiX2hvc3QsICI6IikuY29uY2F0KF90aGlzNS5taWJhbmRfZGJfcG9ydCwgIi9iYW5kcy8iKS5jb25jYXQoYmFuZGlkLCAiL2xhc3QtZmV0Y2gtdGltZSIpKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlc3VsdFsnZ2V0LXRpbWVzdGFtcC1yZXN1bHQnXSA9PSAnc3VjY2VlZGVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHJlc3VsdFsnbGFzdC1mZXRjaC10aW1lc3RhbXAnXSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My50MCA9IF9jb250ZXh0M1siY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0My50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMSwgMTVdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldERhdGFGcm9tTGFzdFRpbWVzdGFtcE1pYmFuZDogZnVuY3Rpb24gZ2V0RGF0YUZyb21MYXN0VGltZXN0YW1wTWliYW5kKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBsYXN0VHNTdHIsIGxhc3RUcywgbG9nczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5nZXRMYXN0RmV0Y2hpbmdEYXRhVGltZXN0YW1wRGIoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgbGFzdFRzU3RyID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGxhc3RUc1N0ciA9PSAnJykgewogICAgICAgICAgICAgICAgICBsYXN0VHMgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgbGFzdFRzID0gbmV3IERhdGUobGFzdFRzU3RyKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmdldERhdGFNaWJhbmRGcm9tKGxhc3RUcyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGxvZ3MgPSBfY29udGV4dDQuc2VudDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBsb2dzKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkRGF0YUZyb21MYXN0VGltZXN0YW1wRGI6IGZ1bmN0aW9uIGFkZERhdGFGcm9tTGFzdFRpbWVzdGFtcERiKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciBsb2dzLCBsYXN0c3RyLCBhZGRfcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LmdldERhdGFGcm9tTGFzdFRpbWVzdGFtcE1pYmFuZCgpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBsb2dzID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCFsb2dzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKE9iamVjdC5lbnRyaWVzKGxvZ3MpLmxlbmd0aCAhPSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsYXN0c3RyID0gT2JqZWN0LmtleXMobG9ncylbT2JqZWN0LmtleXMobG9ncykubGVuZ3RoIC0gMV07CgogICAgICAgICAgICAgICAgX3RoaXM3LmNvbnZlcnRMb2dzVG9VVEMobG9ncyk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy5hZGRMb2dzRGIobG9ncyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGFkZF9yZXN1bHQgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoYWRkX3Jlc3VsdCkgewogICAgICAgICAgICAgICAgICBfdGhpczcuc2V0TGFzdEZldGNoaW5nRGF0YVRpbWVzdGFtcERiKGxhc3RzdHIpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM3Lmxhc3RHZXREYXRhVGltZSA9IF90aGlzNy5nZW5lcmF0ZVRpbWVzdGFtcEZyb21BcGlTdHIobGFzdHN0cik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjb252ZXJ0TG9nc1RvVVRDOiBmdW5jdGlvbiBjb252ZXJ0TG9nc1RvVVRDKGxvZ3MpIHsKICAgICAgZm9yICh2YXIgdHMgaW4gbG9ncykgewogICAgICAgIHZhciB0aW1lc3RhbXAgPSB0aGlzLmdlbmVyYXRlVGltZXN0YW1wRnJvbUFwaVN0cih0cyk7CiAgICAgICAgdmFyIGFwaVVUQ1N0ciA9IHRoaXMuZ2VuZXJhdGVBcGlVVENUaW1lU3RyKHRpbWVzdGFtcCk7CiAgICAgICAgbG9nc1thcGlVVENTdHJdID0gbG9nc1t0c107CiAgICAgICAgZGVsZXRlIGxvZ3NbdHNdOwogICAgICB9CiAgICB9LAogICAgZ2VuZXJhdGVBcGlVVENUaW1lU3RyOiBmdW5jdGlvbiBnZW5lcmF0ZUFwaVVUQ1RpbWVTdHIodGltZXN0YW1wKSB7CiAgICAgIHZhciByZXN1bHQsIGRhdGVzdHIsIHRpbWVzdHIsIGQsIE0sIHksIGgsIG07CiAgICAgIGQgPSB0aW1lc3RhbXAuZ2V0VVRDRGF0ZSgpOwogICAgICBNID0gdGltZXN0YW1wLmdldFVUQ01vbnRoKCkgKyAxOwogICAgICB5ID0gdGltZXN0YW1wLmdldFVUQ0Z1bGxZZWFyKCk7CiAgICAgIGggPSB0aW1lc3RhbXAuZ2V0VVRDSG91cnMoKTsKICAgICAgbSA9IHRpbWVzdGFtcC5nZXRVVENNaW51dGVzKCk7CgogICAgICBpZiAobSA8IDEwKSB7CiAgICAgICAgbSA9ICcwJyArIG07CiAgICAgIH0KCiAgICAgIGRhdGVzdHIgPSBkICsgJy4nICsgTSArICcuJyArIHk7CiAgICAgIHRpbWVzdHIgPSBoICsgJzonICsgbTsKICAgICAgcmVzdWx0ID0gZGF0ZXN0ciArICcgLSAnICsgdGltZXN0cjsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBnZW5lcmF0ZUFwaVRpbWVTdHI6IGZ1bmN0aW9uIGdlbmVyYXRlQXBpVGltZVN0cih0aW1lc3RhbXApIHsKICAgICAgdmFyIHJlc3VsdCwgZGF0ZXN0ciwgdGltZXN0ciwgZCwgTSwgeSwgaCwgbTsKICAgICAgZCA9IHRpbWVzdGFtcC5nZXREYXRlKCk7IC8vYXBpIHN0cmluZzogcmVhbCBtb250aCB8IERhdGUgbW9udGggc3lzdGVtIDAtMTE6IDA6IEphbiwgMTogRmViLC4uLgogICAgICAvLy0tPiArMQoKICAgICAgTSA9IHRpbWVzdGFtcC5nZXRNb250aCgpICsgMTsKICAgICAgeSA9IHRpbWVzdGFtcC5nZXRGdWxsWWVhcigpOwogICAgICBoID0gdGltZXN0YW1wLmdldEhvdXJzKCk7CiAgICAgIG0gPSB0aW1lc3RhbXAuZ2V0TWludXRlcygpOwoKICAgICAgaWYgKG0gPCAxMCkgewogICAgICAgIG0gPSAnMCcgKyBtOwogICAgICB9CgogICAgICBkYXRlc3RyID0gZCArICcuJyArIE0gKyAnLicgKyB5OwogICAgICB0aW1lc3RyID0gaCArICc6JyArIG07CiAgICAgIHJlc3VsdCA9IGRhdGVzdHIgKyAnIC0gJyArIHRpbWVzdHI7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgZ2VuZXJhdGVUaW1lc3RhbXBGcm9tQXBpU3RyOiBmdW5jdGlvbiBnZW5lcmF0ZVRpbWVzdGFtcEZyb21BcGlTdHIodGltZXN0cikgewogICAgICAvLyBkZC5NTS55eXl5IC0gaGgubW0KICAgICAgdmFyIHJlc3VsdCwgZCwgTSwgeSwgaCwgbTsKICAgICAgZCA9IHRpbWVzdHIuc2xpY2UoMCwgMik7IC8vYXBpIHN0cmluZzogcmVhbCBtb250aCB8IERhdGUgbW9udGggc3lzdGVtIDAtMTE6IDA6IEphbiwgMTogRmViLC4uLgogICAgICAvLy0tPiAtMQoKICAgICAgTSA9IHBhcnNlSW50KHRpbWVzdHIuc2xpY2UoMywgNSkpIC0gMTsKICAgICAgeSA9IHRpbWVzdHIuc2xpY2UoNiwgMTApOwogICAgICBoID0gdGltZXN0ci5zbGljZSgxMywgMTUpOwogICAgICBtID0gdGltZXN0ci5zbGljZSgxNiwgMTgpOwogICAgICByZXN1bHQgPSBuZXcgRGF0ZSh5LCBNLCBkLCBoLCBtKTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBnZXREYXRhTWliYW5kRnJvbTogZnVuY3Rpb24gZ2V0RGF0YU1pYmFuZEZyb20odGltZXN0YW1wKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIHN0YXJ0LCBlbmQsIHBhcmFtcywgcmVzcG9uc2UsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgc3RhcnQgPSBfdGhpczguZ2VuZXJhdGVBcGlUaW1lU3RyKHRpbWVzdGFtcCk7CiAgICAgICAgICAgICAgICBlbmQgPSBfdGhpczguZ2VuZXJhdGVBcGlUaW1lU3RyKG5ldyBEYXRlKCkpOwogICAgICAgICAgICAgICAgcGFyYW1zID0gJ3N0YXJ0PScgKyBzdGFydCArICcmZW5kPScgKyBlbmQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDYucHJldiA9IDM7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHA6Ly8iLmNvbmNhdChfdGhpczgubWliYW5kX2hvc3QsICI6IikuY29uY2F0KF90aGlzOC5taWJhbmRfcG9ydCwgIi9iYW5kL2FjdGl2aXR5ZGF0YT8iKS5jb25jYXQocGFyYW1zKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ2LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXN1bHRbJ2xvZy1kYXRhLXJlc3VsdCddID09ICdzdWNjZWVkZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0Wydsb2dzJ10pOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5wcmV2ID0gMTc7CiAgICAgICAgICAgICAgICBfY29udGV4dDYudDAgPSBfY29udGV4dDZbImNhdGNoIl0oMyk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDYudDApOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2LCBudWxsLCBbWzMsIDE3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZXRMYXN0RmV0Y2hpbmdEYXRhVGltZXN0YW1wRGI6IGZ1bmN0aW9uIHNldExhc3RGZXRjaGluZ0RhdGFUaW1lc3RhbXBEYihsYXN0KSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHRpbWVzdGFtcCwgdXRjU3RyLCBiYW5kaWQsIHJlc3BvbnNlLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHRpbWVzdGFtcCA9IF90aGlzOS5nZW5lcmF0ZVRpbWVzdGFtcEZyb21BcGlTdHIobGFzdCk7CiAgICAgICAgICAgICAgICB1dGNTdHIgPSBfdGhpczkuZ2VuZXJhdGVBcGlVVENUaW1lU3RyKHRpbWVzdGFtcCk7CiAgICAgICAgICAgICAgICBiYW5kaWQgPSBfdGhpczkuJHNlc3Npb24uZ2V0KCdtaWJhbmQnKS5pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5wcmV2ID0gMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLyIuY29uY2F0KF90aGlzOS5taWJhbmRfZGJfaG9zdCwgIjoiKS5jb25jYXQoX3RoaXM5Lm1pYmFuZF9kYl9wb3J0LCAiL2JhbmRzLyIpLmNvbmNhdChiYW5kaWQsICIvbGFzdC1mZXRjaC10aW1lIiksIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgICAgICAgICAgICAnbGFzdCc6IHV0Y1N0cgogICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ3LnNlbnQ7CiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0WydzZXQtdGltZXN0YW1wLXJlc3VsdCddID09ICdzdWNjZWVkZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3LnByZXYgPSAxMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny50MCA9IF9jb250ZXh0N1siY2F0Y2giXSgzKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Ny50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTcsIG51bGwsIFtbMywgMTNdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbW92ZUhvdXJSYW5nZTogZnVuY3Rpb24gcmVtb3ZlSG91clJhbmdlKCkgewogICAgICB0aGlzLmhvdXJ2YWx1ZSA9IG51bGw7CiAgICAgIHRoaXMuY3JlYXRlQ2hhcnREYXRhKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["DataType.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div>\n            <b-form inline class=\"d-flex justify-content-between\">\n                <b-form-datepicker id=\"example-datepicker\" v-model=\"datevalue\" class=\"mb-2 w-50\"></b-form-datepicker>\n                \n                <div>\n                    Hour range:\n                    <b-form-spinbutton inline wrap min=\"0\" max=\"23\" v-model=\"hourvalue\"></b-form-spinbutton>\n                    <b-button class=\"ml-1\" variant=\"success\" @click=\"createChartData(hourvalue)\">v</b-button>\n                    <b-button class=\"ml-1\" @click=\"removeHourRange\">x</b-button>\n                </div>\n                \n            </b-form>\n        </div>\n\n        <div v-if=\"getDataStatus === 'PENDING'\">\n            <b-alert variant=\"info\" show>Getting data...</b-alert>\n        </div>\n        \n        <b-skeleton-wrapper :loading=\"getDataStatus === 'PENDING'\">\n            <template #loading>\n                <b-card>\n                <b-skeleton width=\"85%\"></b-skeleton>\n                <b-skeleton width=\"55%\"></b-skeleton>\n                <b-skeleton width=\"70%\"></b-skeleton>\n                </b-card>\n            </template>\n            <div class=\"h-50\">\n                <DataChart :key=\"chartkey\" :data=\"data\" :labels=\"labels\" :type=\"type\"/>\n            </div>\n        </b-skeleton-wrapper>\n    </div>\n</template>\n\n\n<script>\nimport DataChart from '@/components/data/DataChart'\n\n\nvar today = new Date()\n\nexport default {\n    components: { DataChart },\n    props: ['type'],\n    data(){\n        return {\n            activitydata: {},\n            wholedayData: {},\n            hourData: {},\n            labels: [],\n            data: [],\n            mode: -1,\n            datevalue: today.getFullYear() + '-' + String(today.getMonth()+1) + '-' + today.getDate(),\n            hourvalue: null,\n            chartkey: false,\n            getDataStatus: '',\n            miband_host: this.$api_hosts['miband_api'],\n            miband_port: this.$api_ports['miband_api'],\n            miband_db_host: this.$api_hosts['miband_db_api'],\n            miband_db_port: this.$api_ports['miband_db_api'],\n            lastGetDataTime: null\n        }\n    },\n    mounted(){\n        this.addDataFromLastTimestampDb().then(()=>{\n            this.getDatabyDateDb(this.datevalue)\n        })\n\n        this.getDatabyDateDb(this.datevalue)\n        this.generateDataSet()\n    },\n\n    watch: {\n        datevalue: function() {\n            this.getDatabyDateDb(this.datevalue)\n        },\n        getDataStatus: function() {\n            if(this.getDataStatus=='OK') {\n                this.generateDataSet()\n                this.createChartData()                    \n            }\n        },\n        data: function() {\n            this.chartkey = !this.chartkey\n        },\n    },\n\n    methods: {\n        generateDataSet() {\n            var logs = this.activitydata\n            var hourData = {}\n\n            for(var i in logs) {\n                var timestamp = logs[i].timestamp\n                var tmp = new Date(timestamp)\n                var hour = tmp.getHours()\n                var minute = tmp.getMinutes()\n                // dataOfHour[\"asd\"] = \"asd\"\n                if(hourData[String(hour)]==undefined){\n                    hourData[String(hour)] = {}\n                    if(this.type=='hr'){\n                        hourData[String(hour)]['sum'] = 0\n                        hourData[String(hour)]['valid-cnt']=0\n                    }\n                    else if (this.type=='steps'){\n                        hourData[String(hour)]['sum'] = 0\n                    }\n                }\n                var hr = logs[i].heartrate\n                var steps = logs[i].steps\n                hourData[String(hour)][String(minute)] = this.type=='hr'? hr : steps\n                if(this.type=='hr'&& hr!=255){\n                    hourData[String(hour)]['sum']+=hr\n                    hourData[String(hour)]['valid-cnt']++\n                }\n                else if(this.type=='steps') {\n                    hourData[String(hour)]['sum']+=steps\n                }\n            }\n\n            var wholedayData = {}\n            for(var h=0; h<24; h++){\n                if(hourData[h]!=undefined)\n                    wholedayData[h] = this.type=='hr'? Math.round(hourData[h]['sum']/hourData[h]['valid-cnt'])\n                                                     : hourData[h]['sum']\n                else  wholedayData[h] = undefined\n            }\n            this.wholedayData = wholedayData\n            this.hourData = hourData\n        },\n\n        createChartData(mode) {\n            this.labels = []\n            this.data = []\n            var h\n            if(mode==null) {\n                for(h=0; h<24; h++) {\n                    this.labels.push(String(h)+':00')\n                    this.data.push(this.wholedayData[h])\n                }\n            }\n            else {\n                h = mode\n                var minute\n                for(var m=0; m<60; m++) {\n                    if (String(m).length<2) {\n                        minute = '0'+String(m)\n                    }\n                    else minute = m\n                    this.labels.push(String(h)+':'+String(minute))\n                    if(this.hourData[h]!=undefined){\n                        var bpm = this.hourData[h][m]\n                        if(bpm==255)\n                            bpm = null\n                        this.data.push(bpm)\n                    }\n                        \n                }\n            }\n\n        },\n\n        async addLogsDb(logs) {\n            const band_id = this.$session.get('miband').id\n            const user_id = this.$session.get('user').id\n            try {\n                const response = await fetch(`http://${this.miband_db_host}:${this.miband_db_port}/bands/${band_id}/${user_id}/logs`, {\n                method: 'POST',\n                body: JSON.stringify(logs),\n                headers: { 'Content-type': 'application/json; charset=UTF-8' },\n                })\n                const result = await response.json()\n                if(result['add-logs-result']=='succeeded'){\n                    return true\n                }\n                else return false\n            } catch (error) {\n                console.error(error)\n            }\n        },\n\n        async getDataByTimeApiCallDb(start, end) {\n            const userid = this.$session.get('user').id\n            const params = 'start='+start + '&end='+end\n            try {\n                const response = await fetch(`http://${this.miband_db_host}:${this.miband_db_port}/users/${userid}/logs/get-by-time?${params}`)\n                \n                const result = await response.json()\n                if(result['get-logs-result']==='succeeded')\n                    return result['logs']\n                return false\n            } catch (error) {\n                // do something with `error`\n            }\n        },\n\n        getDatabyDateDb(inputdatestr) {\n            var today = new Date(inputdatestr)\n            var startTs, endTs, startstr, endstr\n            startTs = new Date(today.getFullYear(), today.getMonth(), today.getDate())\n            endTs = new Date(today.getFullYear(), today.getMonth(), today.getDate(), 23, 59)\n            startstr = this.generateApiUTCTimeStr(startTs)\n            endstr = this.generateApiUTCTimeStr(endTs)\n            \n            this.getDataByTimeApiCallDb(startstr, endstr).then((result)=>{\n                this.activitydata  = result\n                this.getDataStatus = \"OK\"\n            })\n            this.getDataStatus = \"PENDING\"\n\n        },\n\n        async getLastFetchingDataTimestampDb() {\n            const bandid = this.$session.get('miband').id\n            try {\n                const response = await fetch(`http://${this.miband_db_host}:${this.miband_db_port}/bands/${bandid}/last-fetch-time`)\n                const result = await response.json()\n                if(result['get-timestamp-result']=='succeeded'){\n                    return result['last-fetch-timestamp']\n                }\n                else return false\n            } catch (error){\n                console.log(error)\n            }\n        },\n        \n        async getDataFromLastTimestampMiband(){\n            const lastTsStr = await this.getLastFetchingDataTimestampDb()\n            \n            var lastTs\n            if(lastTsStr==''){\n                lastTs = new Date()\n            }\n            else {\n                lastTs = new Date(lastTsStr)           \n            }\n            const logs = await this.getDataMibandFrom(lastTs)\n            return logs\n        },\n\n        async addDataFromLastTimestampDb() {\n            const logs = await this.getDataFromLastTimestampMiband()\n            if(logs) {\n                if(Object.entries(logs).length!=0){\n                    var laststr = Object.keys(logs)[Object.keys(logs).length-1]\n\n                    this.convertLogsToUTC(logs)\n                    \n                    var add_result = await this.addLogsDb(logs)\n                    if(add_result) {\n                        this.setLastFetchingDataTimestampDb(laststr)\n\n                        this.lastGetDataTime = this.generateTimestampFromApiStr(laststr)\n                    }\n                }\n            }\n            \n        },\n\n        convertLogsToUTC(logs) {\n            for(var ts in logs) {\n                var timestamp = this.generateTimestampFromApiStr(ts)\n                var apiUTCStr = this.generateApiUTCTimeStr(timestamp)\n                logs[apiUTCStr] = logs[ts]\n                delete logs[ts]\n            }\n        },\n\n        generateApiUTCTimeStr(timestamp) {\n            var result, datestr, timestr, d, M, y, h, m\n            d = timestamp.getUTCDate()\n            M = timestamp.getUTCMonth()+1\n            y = timestamp.getUTCFullYear()\n            h = timestamp.getUTCHours()\n            m = timestamp.getUTCMinutes()\n            if(m<10) {\n                m = '0'+m\n            }\n            datestr = d + '.' + M + '.' + y\n            timestr = h + ':' + m\n            result = datestr + ' - ' + timestr\n            return result\n\n        },\n\n        generateApiTimeStr(timestamp) {\n            var result, datestr, timestr, d, M, y, h, m\n            d = timestamp.getDate()\n            //api string: real month | Date month system 0-11: 0: Jan, 1: Feb,...\n            //--> +1\n            M = timestamp.getMonth()+1\n            y = timestamp.getFullYear()\n            h = timestamp.getHours()\n            m = timestamp.getMinutes()\n            if(m<10) {\n                m = '0'+m\n            }\n            datestr = d + '.' + M + '.' + y\n            timestr = h + ':' + m\n            result = datestr + ' - ' + timestr\n            return result\n        },\n\n        generateTimestampFromApiStr(timestr) {\n            // dd.MM.yyyy - hh.mm\n            var result, d, M, y, h, m\n            d = timestr.slice(0,2)\n            //api string: real month | Date month system 0-11: 0: Jan, 1: Feb,...\n            //--> -1\n            M = parseInt(timestr.slice(3,5)) - 1\n            y = timestr.slice(6,10)\n            h = timestr.slice(13,15)\n            m = timestr.slice(16,18)\n            result = new Date(y, M, d, h, m)\n            return result\n        },\n\n        async getDataMibandFrom(timestamp) {\n            var start, end\n            start = this.generateApiTimeStr(timestamp)\n            end = this.generateApiTimeStr(new Date())\n            const params = 'start='+start + '&end='+end\n            try {\n                const response = await fetch(`http://${this.miband_host}:${this.miband_port}/band/activitydata?${params}`)\n                const result = await response.json()\n                if(result['log-data-result']=='succeeded'){\n                    return result['logs']\n                }\n                else return false\n            }\n            catch (error) {\n                console.log(error);\n            }\n            \n        },\n\n        async setLastFetchingDataTimestampDb(last){\n            const timestamp = this.generateTimestampFromApiStr(last)\n            const utcStr = this.generateApiUTCTimeStr(timestamp)\n            const bandid = this.$session.get('miband').id\n            try{\n                const response = await fetch(`http://${this.miband_db_host}:${this.miband_db_port}/bands/${bandid}/last-fetch-time`, {\n                method: 'POST',\n                body: JSON.stringify({\n                    'last': utcStr\n                    }),\n                headers: { 'Content-type': 'application/json; charset=UTF-8' },\n                })\n                const result = response.json()\n                if(result['set-timestamp-result']=='succeeded') {\n                    return true\n                }\n                return false\n            }\n            catch (error) {\n                console.log(error)\n            }\n        },\n\n        removeHourRange(){\n            this.hourvalue = null\n            this.createChartData()\n        }\n    }\n}\n</script>"],"sourceRoot":"src/components/data"}]}