{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/thread-loader/dist/cjs.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/account/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/account/Profile.vue","mtime":1607539087626},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZ3JhY2UvcGovbWljcm9zZXJ2aWNlc19taWJhbmQ0X2hlYWx0aG1vbml0b3IvZnJvbnRlbmQvdnVlLWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBEZXZpY2VNYW5hZ2VtZW50IGZyb20gJ0AvY29tcG9uZW50cy9EZXZpY2VNYW5hZ2VtZW50JzsKaW1wb3J0IENoYW5nZVBhc3N3b3JkRm9ybSBmcm9tICdAL2NvbXBvbmVudHMvYWNjb3VudC9DaGFuZ2VQYXNzd29yZEZvcm0udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIERldmljZU1hbmFnZW1lbnQ6IERldmljZU1hbmFnZW1lbnQsCiAgICBDaGFuZ2VQYXNzd29yZEZvcm06IENoYW5nZVBhc3N3b3JkRm9ybQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudXNlcikKICAgIHRoaXMuZ2VuZXJhdGVBdnRTdHIoKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB0aGlzLiRzZXNzaW9uLmdldCgndXNlcicpLAogICAgICBhdmF0YXJTdHI6ICcnLAogICAgICB1cGRhdGVOYW1lTW9kZTogZmFsc2UsCiAgICAgIGNoYW5nZVB3TW9kZTogZmFsc2UsCiAgICAgIGRlbGV0ZVN0YXR1czogJycsCiAgICAgIHVzZXJfZGJfaG9zdDogdGhpcy4kYXBpX2hvc3RzWyd1c2VyX2RiX2FwaSddLAogICAgICB1c2VyX2RiX3BvcnQ6IHRoaXMuJGFwaV9wb3J0c1sndXNlcl9kYl9hcGknXSwKICAgICAgbWliYW5kX2RiX2hvc3Q6IHRoaXMuJGFwaV9ob3N0c1snbWliYW5kX2RiX2FwaSddLAogICAgICBtaWJhbmRfZGJfcG9ydDogdGhpcy4kYXBpX3BvcnRzWydtaWJhbmRfZGJfYXBpJ10sCiAgICAgIG1pYmFuZF9ob3N0OiB0aGlzLiRhcGlfaG9zdHNbJ21pYmFuZF9hcGknXSwKICAgICAgbWliYW5kX3BvcnQ6IHRoaXMuJGFwaV9wb3J0c1snbWliYW5kX2FwaSddCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZW50ZXJVcGRhdGVOYW1lTW9kZTogZnVuY3Rpb24gZW50ZXJVcGRhdGVOYW1lTW9kZSgpIHsKICAgICAgdGhpcy51cGRhdGVOYW1lTW9kZSA9IHRydWU7CiAgICB9LAogICAgZXhpdFVwZGF0ZU5hbWVNb2RlOiBmdW5jdGlvbiBleGl0VXBkYXRlTmFtZU1vZGUoKSB7CiAgICAgIHRoaXMudXNlci5mdWxsbmFtZSA9IHRoaXMuJHNlc3Npb24uZ2V0KCd1c2VyJykuZnVsbG5hbWU7CiAgICAgIHRoaXMudXBkYXRlTmFtZU1vZGUgPSBmYWxzZTsKICAgIH0sCiAgICBlbnRlckNoYW5nZVB3TW9kZTogZnVuY3Rpb24gZW50ZXJDaGFuZ2VQd01vZGUoKSB7CiAgICAgIHRoaXMuY2hhbmdlUHdNb2RlID0gdHJ1ZTsKICAgIH0sCiAgICBleGl0Q2hhbmdlUHdNb2RlOiBmdW5jdGlvbiBleGl0Q2hhbmdlUHdNb2RlKCkgewogICAgICB0aGlzLmNoYW5nZVB3TW9kZSA9IGZhbHNlOwogICAgfSwKICAgIGdlbmVyYXRlQXZ0U3RyOiBmdW5jdGlvbiBnZW5lcmF0ZUF2dFN0cigpIHsKICAgICAgaWYgKHRoaXMudXNlci5mdWxsbmFtZSAhPSBudWxsKSB7CiAgICAgICAgdmFyIHN0ciA9IFN0cmluZyh0aGlzLiRzZXNzaW9uLmdldCgndXNlcicpLmZ1bGxuYW1lKTsKICAgICAgICB2YXIgc2VwZXJhdGVOYW1lID0gc3RyLnNwbGl0KCIgIik7CgogICAgICAgIGlmIChzZXBlcmF0ZU5hbWUubGVuZ3RoID09IDEpIHsKICAgICAgICAgIHRoaXMuYXZhdGFyU3RyID0gc2VwZXJhdGVOYW1lWzBdWzBdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmF2YXRhclN0ciA9IHNlcGVyYXRlTmFtZVswXVswXSArIHNlcGVyYXRlTmFtZVtzZXBlcmF0ZU5hbWUubGVuZ3RoIC0gMV1bMF07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXZhdGFyU3RyID0gJyc7CiAgICAgIH0KICAgIH0sCiAgICB1cGRhdGVOYW1lQXBpQ2FsbDogZnVuY3Rpb24gdXBkYXRlTmFtZUFwaUNhbGwobmV3TmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdWlkLCByZXNwb25zZSwgdXNlcjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1aWQgPSBfdGhpcy4kc2Vzc2lvbi5nZXQoJ3VzZXInKS5pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHA6Ly8iLmNvbmNhdChfdGhpcy51c2VyX2RiX2hvc3QsICI6IikuY29uY2F0KF90aGlzLnVzZXJfZGJfcG9ydCwgIi91c2Vycy8iKS5jb25jYXQodWlkLCAiL2Z1bGxuYW1lIiksIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJywKICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICdmdWxsbmFtZSc6IG5ld05hbWUKICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdXNlcik7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDExXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVOYW1lOiBmdW5jdGlvbiB1cGRhdGVOYW1lKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIHRoaXMudXBkYXRlTmFtZUFwaUNhbGwodGhpcy51c2VyLmVtYWlsLCB0aGlzLnVzZXIuZnVsbG5hbWUpCiAgICAgIHRoaXMudXBkYXRlTmFtZUFwaUNhbGwodGhpcy51c2VyLmZ1bGxuYW1lKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgX3RoaXMyLiRzZXNzaW9uLnNldCgndXNlcicsIHVzZXIpOwoKICAgICAgICBfdGhpczIuZ2VuZXJhdGVBdnRTdHIoKTsKCiAgICAgICAgX3RoaXMyLmV4aXRVcGRhdGVOYW1lTW9kZSgpOyAvLyB0aGlzLiRmb3JjZVVwZGF0ZQoKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlTG9nc0FwaUNhbGw6IGZ1bmN0aW9uIGRlbGV0ZUxvZ3NBcGlDYWxsKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciB1c2VyX2lkLCByZXNwb25zZSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1c2VyX2lkID0gX3RoaXMzLiRzZXNzaW9uLmdldCgndXNlcicpLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vIi5jb25jYXQoX3RoaXMzLm1pYmFuZF9kYl9ob3N0LCAiOiIpLmNvbmNhdChfdGhpczMubWliYW5kX2RiX3BvcnQsICIvdXNlcnMvIikuY29uY2F0KHVzZXJfaWQsICIvbG9ncyIpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0WydkZWxldGUtcmVzdWx0J10gPT0gJ3N1Y2NlZWRlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB0cnVlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDEzOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQyLnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCAxM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRlVXNlckFwaUNhbGw6IGZ1bmN0aW9uIGRlbGV0ZVVzZXJBcGlDYWxsKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciB1c2VyX2lkLCByZXNwb25zZSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1c2VyX2lkID0gX3RoaXM0LiRzZXNzaW9uLmdldCgndXNlcicpLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vIi5jb25jYXQoX3RoaXM0LnVzZXJfZGJfaG9zdCwgIjoiKS5jb25jYXQoX3RoaXM0LnVzZXJfZGJfcG9ydCwgIi91c2Vycy8iKS5jb25jYXQodXNlcl9pZCksIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXN1bHRbJ2RlbGV0ZS1yZXN1bHQnXSA9PSAnc3VjY2VlZGVkJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDMudDApOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsIDEzXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1bnBhaXJCYW5kRGJBcGlDYWxsOiBmdW5jdGlvbiB1bnBhaXJCYW5kRGJBcGlDYWxsKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBiYW5kaWQsIHJlc3BvbnNlLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGJhbmRpZCA9IF90aGlzNS4kc2Vzc2lvbi5nZXQoJ21pYmFuZCcpLmlkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vIi5jb25jYXQoX3RoaXM1Lm1pYmFuZF9kYl9ob3N0LCAiOiIpLmNvbmNhdChfdGhpczUubWliYW5kX2RiX3BvcnQsICIvYmFuZHMvIikuY29uY2F0KGJhbmRpZCwgIi91bnBhaXIiKSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXN1bHRbJ3VucGFpci1iYW5kLXJlc3VsdCddID09ICJzdWNjZWVkZWQiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAxNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1sxLCAxNV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGlzY29ubmVjdEFwaUNhbGw6IGZ1bmN0aW9uIGRpc2Nvbm5lY3RBcGlDYWxsKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHZhciByZXNwb25zZSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHA6Ly8iLmNvbmNhdChfdGhpczYubWliYW5kX2hvc3QsICI6IikuY29uY2F0KF90aGlzNi5taWJhbmRfcG9ydCwgIi9iYW5kL2Rpc2Nvbm5lY3QiKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQ1LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUsIG51bGwsIFtbMCwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZUFuZENsb3NlTW9kYWw6IGZ1bmN0aW9uIGRlbGV0ZUFuZENsb3NlTW9kYWwoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTYoKSB7CiAgICAgICAgdmFyIGRlbGV0ZUxvZ3NSZXN1bHQsIHVucGFpckJhbmRSZXN1bHQsIGRlbGV0ZVVzZXJSZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzNy4kYnZNb2RhbC5oaWRlKCdjb25maXJtLXJlbW92ZS1tb2RhbCcpOwoKICAgICAgICAgICAgICAgIF90aGlzNy5kZWxldGVTdGF0dXMgPSAnUEVORElORyc7CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LmRlbGV0ZUxvZ3NBcGlDYWxsKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGRlbGV0ZUxvZ3NSZXN1bHQgPSBfY29udGV4dDYuc2VudDsKICAgICAgICAgICAgICAgIHVucGFpckJhbmRSZXN1bHQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGlmICghZGVsZXRlTG9nc1Jlc3VsdCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvL2lmIHN1Y2NlZWRlZAogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXM3LiRzZXNzaW9uLmdldCgnbWliYW5kJykpOwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNy4kc2Vzc2lvbi5nZXQoJ21pYmFuZCcpICE9IHVuZGVmaW5lZCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy9pZiBwYWlyaW5nIGJhbmQgZXhpc3QKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCc/PycpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuZGlzY29ubmVjdEFwaUNhbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Ni5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LnVucGFpckJhbmREYkFwaUNhbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIHVucGFpckJhbmRSZXN1bHQgPSBfY29udGV4dDYuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGlmICghdW5wYWlyQmFuZFJlc3VsdCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy5kZWxldGVVc2VyQXBpQ2FsbCgpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgZGVsZXRlVXNlclJlc3VsdCA9IF9jb250ZXh0Ni5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChkZWxldGVVc2VyUmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNy5kZWxldGVTdGF0dXMgPSAnT0snOwoKICAgICAgICAgICAgICAgICAgX3RoaXM3LiRzZXNzaW9uLmRlc3Ryb3koKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNy4kZW1pdCgnbG9naW4tc3RhdHVzLWNoYW5nZScpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM3LiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA,OAAA,gBAAA,MAAA,+BAAA;AACA,OAAA,kBAAA,MAAA,6CAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,gBAAA,EAAA,gBADA;AAEA,IAAA,kBAAA,EAAA;AAFA,GADA;AAKA,EAAA,OALA,qBAKA;AACA;AACA,SAAA,cAAA;AAEA,GATA;AAUA,EAAA,IAVA,kBAUA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,MAAA,CADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,cAAA,EAAA,KAHA;AAIA,MAAA,YAAA,EAAA,KAJA;AAKA,MAAA,YAAA,EAAA,EALA;AAMA,MAAA,YAAA,EAAA,KAAA,UAAA,CAAA,aAAA,CANA;AAOA,MAAA,YAAA,EAAA,KAAA,UAAA,CAAA,aAAA,CAPA;AAQA,MAAA,cAAA,EAAA,KAAA,UAAA,CAAA,eAAA,CARA;AASA,MAAA,cAAA,EAAA,KAAA,UAAA,CAAA,eAAA,CATA;AAUA,MAAA,WAAA,EAAA,KAAA,UAAA,CAAA,YAAA,CAVA;AAWA,MAAA,WAAA,EAAA,KAAA,UAAA,CAAA,YAAA;AAXA,KAAA;AAaA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,mBADA,iCACA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,kBAJA,gCAIA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,KAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,QAAA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,KAPA;AAQA,IAAA,iBARA,+BAQA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,KAVA;AAWA,IAAA,gBAXA,8BAWA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,KAbA;AAeA,IAAA,cAfA,4BAeA;AACA,UAAA,KAAA,IAAA,CAAA,QAAA,IAAA,IAAA,EAAA;AACA,YAAA,GAAA,GAAA,MAAA,CAAA,KAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,QAAA,CAAA;AACA,YAAA,YAAA,GAAA,GAAA,CAAA,KAAA,CAAA,GAAA,CAAA;;AACA,YAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,SAAA,GAAA,YAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACA,SAFA,MAEA;AACA,eAAA,SAAA,GAAA,YAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAA,YAAA,CAAA,YAAA,CAAA,MAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAAA;AACA;AAEA,OATA,MAUA;AACA,aAAA,SAAA,GAAA,EAAA;AACA;AACA,KA7BA;AA+BA,IAAA,iBA/BA,6BA+BA,OA/BA,EA+BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,GADA,GACA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,EADA;AAAA;AAAA;AAAA,uBAGA,KAAA,kBAAA,KAAA,CAAA,YAAA,cAAA,KAAA,CAAA,YAAA,oBAAA,GAAA,gBAAA;AACA,kBAAA,MAAA,EAAA,KADA;AAEA,kBAAA,IAAA,EAAA,IAAA,CAAA,SAAA,CAAA;AACA,gCAAA;AADA,mBAAA,CAFA;AAKA,kBAAA,OAAA,EAAA;AAAA,oCAAA;AAAA;AALA,iBAAA,CAHA;;AAAA;AAGA,gBAAA,QAHA;AAAA;AAAA,uBAUA,QAAA,CAAA,IAAA,EAVA;;AAAA;AAUA,gBAAA,IAVA;AAAA,iDAWA,IAXA;;AAAA;AAAA;AAAA;AAaA,gBAAA,OAAA,CAAA,KAAA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KA9CA;AA+CA,IAAA,UA/CA,wBA+CA;AAAA;;AACA;AACA,WAAA,iBAAA,CAAA,KAAA,IAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,IAAA;;AACA,QAAA,MAAA,CAAA,cAAA;;AACA,QAAA,MAAA,CAAA,kBAAA,GAHA,CAIA;;AACA,OALA;AAMA,KAvDA;AAyDA,IAAA,iBAzDA,+BAyDA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OADA,GACA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,EADA;AAAA;AAAA;AAAA,uBAGA,KAAA,kBAAA,MAAA,CAAA,cAAA,cAAA,MAAA,CAAA,cAAA,oBAAA,OAAA,YAAA;AACA,kBAAA,MAAA,EAAA;AADA,iBAAA,CAHA;;AAAA;AAGA,gBAAA,QAHA;AAAA;AAAA,uBAMA,QAAA,CAAA,IAAA,EANA;;AAAA;AAMA,gBAAA,MANA;;AAAA,sBAOA,MAAA,CAAA,eAAA,CAAA,IAAA,WAPA;AAAA;AAAA;AAAA;;AAAA,kDAQA,IARA;;AAAA;AAAA,kDAUA,KAVA;;AAAA;AAAA;AAAA;AAaA,gBAAA,OAAA,CAAA,GAAA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KAxEA;AA0EA,IAAA,iBA1EA,+BA0EA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OADA,GACA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,EADA;AAAA;AAAA;AAAA,uBAGA,KAAA,kBAAA,MAAA,CAAA,YAAA,cAAA,MAAA,CAAA,YAAA,oBAAA,OAAA,GAAA;AACA,kBAAA,MAAA,EAAA;AADA,iBAAA,CAHA;;AAAA;AAGA,gBAAA,QAHA;AAAA;AAAA,uBAMA,QAAA,CAAA,IAAA,EANA;;AAAA;AAMA,gBAAA,MANA;;AAAA,sBAOA,MAAA,CAAA,eAAA,CAAA,IAAA,WAPA;AAAA;AAAA;AAAA;;AAAA,kDAQA,IARA;;AAAA;AAAA,kDAUA,KAVA;;AAAA;AAAA;AAAA;AAaA,gBAAA,OAAA,CAAA,GAAA;;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA,KAzFA;AA2FA,IAAA,mBA3FA,iCA2FA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,QAAA,EAAA,EADA;AAAA;AAAA;AAAA,uBAGA,KAAA,kBAAA,MAAA,CAAA,cAAA,cAAA,MAAA,CAAA,cAAA,oBAAA,MAAA,aAHA;;AAAA;AAGA,gBAAA,QAHA;AAAA;AAAA,uBAIA,QAAA,CAAA,IAAA,EAJA;;AAAA;AAIA,gBAAA,MAJA;;AAAA,sBAOA,MAAA,CAAA,oBAAA,CAAA,IAAA,WAPA;AAAA;AAAA;AAAA;;AAAA,kDAQA,IARA;;AAAA;AAAA,kDASA,KATA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA,KAxGA;AA0GA,IAAA,iBA1GA,+BA0GA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,kBAAA,MAAA,CAAA,WAAA,cAAA,MAAA,CAAA,WAAA,sBAFA;;AAAA;AAEA,gBAAA,QAFA;AAAA;AAAA,uBAGA,QAAA,CAAA,IAAA,EAHA;;AAAA;AAGA,gBAAA,MAHA;AAIA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AAJA,kDAKA,MALA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAnHA;AAqHA,IAAA,mBArHA,iCAqHA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,sBAAA;;AAEA,gBAAA,MAAA,CAAA,YAAA,GAAA,SAAA;AAHA;AAAA,uBAKA,MAAA,CAAA,iBAAA,EALA;;AAAA;AAKA,gBAAA,gBALA;AAMA,gBAAA,gBANA,GAMA,IANA;;AAAA,qBAQA,gBARA;AAAA;AAAA;AAAA;;AAQA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,QAAA,CAAA;;AATA,sBAUA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,QAAA,KAAA,SAVA;AAAA;AAAA;AAAA;;AAUA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AAXA;AAAA,uBAYA,MAAA,CAAA,iBAAA,EAZA;;AAAA;AAAA;AAAA,uBAaA,MAAA,CAAA,mBAAA,EAbA;;AAAA;AAaA,gBAAA,gBAbA;;AAAA;AAAA,qBAgBA,gBAhBA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAiBA,MAAA,CAAA,iBAAA,EAjBA;;AAAA;AAiBA,gBAAA,gBAjBA;;AAkBA,oBAAA,gBAAA,EAAA;AACA,kBAAA,MAAA,CAAA,YAAA,GAAA,IAAA;;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,OAAA;;AACA,kBAAA,MAAA,CAAA,KAAA,CAAA,qBAAA;;AACA,kBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AAvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBA;AA9IA;AAzBA,CAAA","sourcesContent":["<template>\n    <div class=\"w-50 mx-auto mt-3 mb-3\" v-if=\"this.$session.exists()\">\n        <b-card>\n            <template #header>\n                <div class=\"d-flex justify-content-center\">\n                    <b-avatar :text=\"avatarStr\" size=\"6rem\"></b-avatar>\n                </div>\n                <b-card-title v-if=\"user.fullname==null&&updateNameMode!=true\" class=\"text-center mt-2\">\n                    <b-button variant=\"outline-primary\" @click=\"enterUpdateNameMode\">\n                        Please tell us your name 📝\n                    </b-button>\n                </b-card-title>\n                <b-card-title v-else-if=\"updateNameMode==true\" class=\"text-center mt-2\">\n                    <b-form @submit.prevent=\"updateName\" inline class=\"d-flex justify-content-around\">\n                        <b-form-input class=\"w-75\"\n                        v-model=\"user.fullname\"\n                        placeholder=\"Enter your name\"\n                    ></b-form-input>\n                    <div>\n                        <b-button @click=\"updateName\" variant=\"success\" class=\"mr-1\">OK</b-button>\n                        <b-button @click=\"exitUpdateNameMode\" variant=\"danger\">✖️</b-button>\n                    </div>\n                    </b-form>\n                </b-card-title>\n                <b-card-title v-else class=\"text-center mt-2\">\n                    {{user.fullname}}\n                    <b-button variant=\"outline-primary\" @click=\"enterUpdateNameMode\">📝</b-button>\n                </b-card-title>\n                <b-card-sub-title class=\"text-center\">{{user.email}}</b-card-sub-title>\n                <!-- <div class=\"d-flex justify-content-center\">\n                    <b-card-text>🏆 Strike: 4days</b-card-text>\n                </div> -->\n            </template>\n\n            <b-skeleton-wrapper :loading=\"deleteStatus === 'PENDING'\">\n                <template #loading>\n                <b-card>\n                <b-skeleton width=\"85%\"></b-skeleton>\n                <b-skeleton width=\"55%\"></b-skeleton>\n                <b-skeleton width=\"70%\"></b-skeleton>\n                </b-card>\n            </template>\n            <device-management />\n\n            <!-- <b-card title=\"More\" class=\"mt-1\">\n                <b-button variant=\"outline-primary\" class=\"w-100\">Set goal</b-button>\n            </b-card> -->\n\n            <b-card title=\"Account\" class=\"mt-1\">\n                <b-button variant=\"outline-primary\" class=\"w-100 mb-1\"\n                    @click=\"enterChangePwMode\"\n                >Change password</b-button>\n                <ChangePasswordForm v-if=\"changePwMode==true\" @exit-change-pw-mode=\"exitChangePwMode\"/>\n                <b-button variant=\"outline-primary\" class=\"w-100\" v-b-modal.confirm-delete-modal >Delete account</b-button>\n                \n            </b-card>\n            \n            <b-modal id=\"confirm-delete-modal\" hide-footer title=\"Confirmation\">\n                <div class=\"d-block text-center\">\n                    <h4>Do you really want to delete this account?</h4>\n                </div>\n                <div class=\"d-flex justify-content-end\">\n                    <b-button class=\"mt-3 mr-3\"  @click=\"$bvModal.hide('confirm-delete-modal')\">Cancel</b-button>\n                    <b-button class=\"mt-3 mr-4\" variant=\"danger\" @click=\"deleteAndCloseModal()\">Delete</b-button>\n                </div>\n            </b-modal>\n            </b-skeleton-wrapper>\n        </b-card>\n        \n    </div>\n</template>\n\n\n<script>\nimport DeviceManagement from '@/components/DeviceManagement'\nimport ChangePasswordForm from '@/components/account/ChangePasswordForm.vue'\n\nexport default {\n    components: { \n        DeviceManagement,\n        ChangePasswordForm\n    },\n    created() {\n        // console.log(this.user)\n        this.generateAvtStr()\n        \n    },\n    data() {\n        return {\n            user: this.$session.get('user'),\n            avatarStr: '',\n            updateNameMode: false,\n            changePwMode: false,\n            deleteStatus: '',\n            user_db_host: this.$api_hosts['user_db_api'],\n            user_db_port: this.$api_ports['user_db_api'],\n            miband_db_host: this.$api_hosts['miband_db_api'],\n            miband_db_port: this.$api_ports['miband_db_api'],\n            miband_host: this.$api_hosts['miband_api'],\n            miband_port: this.$api_ports['miband_api']\n        }\n    },\n    methods: {\n        enterUpdateNameMode() {\n            this.updateNameMode = true\n        },\n        exitUpdateNameMode() {\n            this.user.fullname=this.$session.get('user').fullname\n            this.updateNameMode = false\n        },\n        enterChangePwMode() {\n            this.changePwMode = true\n        },\n        exitChangePwMode() {\n            this.changePwMode = false\n        },\n\n        generateAvtStr() {\n            if(this.user.fullname!=null) {\n                var str = String(this.$session.get('user').fullname)\n                var seperateName = str.split(\" \")\n                if(seperateName.length==1){\n                    this.avatarStr = seperateName[0][0]\n                } else {\n                    this.avatarStr=seperateName[0][0] + seperateName[seperateName.length-1][0]\n                }\n                \n            }\n            else{\n                this.avatarStr=''\n            }\n        },\n\n        async updateNameApiCall(newName) {\n            const uid = this.$session.get('user').id\n            try {\n                const response = await fetch(`http://${this.user_db_host}:${this.user_db_port}/users/${uid}/fullname`, {\n                method: 'PUT',\n                body: JSON.stringify({\n                    'fullname': newName,\n                    }),\n                headers: { 'Content-type': 'application/json; charset=UTF-8' },\n                })\n                const user = await response.json()\n                return user\n            } catch (error) {\n                console.error(error)\n            }\n        },\n        updateName() {\n            // this.updateNameApiCall(this.user.email, this.user.fullname)\n            this.updateNameApiCall(this.user.fullname).then((user)=>{\n                this.$session.set('user', user)\n                this.generateAvtStr()\n                this.exitUpdateNameMode()\n                // this.$forceUpdate\n            })\n        },\n\n        async deleteLogsApiCall() {\n            const user_id = this.$session.get('user').id\n            try {\n                const response = await fetch(`http://${this.miband_db_host}:${this.miband_db_port}/users/${user_id}/logs`, {\n                    method: 'DELETE'\n                })\n                const result = await response.json()\n                if(result['delete-result']=='succeeded') {\n                    return true\n                }\n                return false\n            }\n            catch (error) {\n                console.log(error)\n            }\n        },\n\n        async deleteUserApiCall() {\n            const user_id = this.$session.get('user').id\n            try {\n                const response = await fetch(`http://${this.user_db_host}:${this.user_db_port}/users/${user_id}`, {\n                    method: 'DELETE'\n                })\n                const result = await response.json()\n                if(result['delete-result']=='succeeded') {\n                    return true\n                }\n                return false\n            }\n            catch (error) {\n                console.log(error)\n            }\n        },\n\n        async unpairBandDbApiCall() {\n            const bandid = this.$session.get('miband').id\n            try {\n                const response = await fetch(`http://${this.miband_db_host}:${this.miband_db_port}/bands/${bandid}/unpair`)\n                const result = await response.json()\n\n                // do something with `data`\n                if(result['unpair-band-result']==\"succeeded\")\n                    return true\n                else return false\n            } catch (error) {\n                // do something with `error`\n            }\n        },\n\n        async disconnectApiCall() {\n            try {\n                const response = await fetch(`http://${this.miband_host}:${this.miband_port}/band/disconnect`)\n                const result = await response.json()\n                console.log(result)\n                return result\n            } catch (error) {\n                // do something with `error`\n            }\n        },\n\n        async deleteAndCloseModal() {\n            this.$bvModal.hide('confirm-remove-modal')\n\n            this.deleteStatus = 'PENDING'\n            \n            const deleteLogsResult = await this.deleteLogsApiCall()\n            var unpairBandResult = true\n            var deleteUserResult\n            if(deleteLogsResult) { //if succeeded\n                console.log(this.$session.get('miband'))\n                if(this.$session.get('miband')!=undefined) { //if pairing band exist\n                    console.log('??')\n                    await this.disconnectApiCall()\n                    unpairBandResult = await this.unpairBandDbApiCall()\n                }\n            }\n            if(unpairBandResult) {\n                deleteUserResult = await this.deleteUserApiCall()\n                if(deleteUserResult) {\n                    this.deleteStatus = 'OK'\n                    this.$session.destroy()\n                    this.$emit('login-status-change')\n                    this.$router.push('/')\n                }\n            }\n        },\n    }\n}\n</script>"],"sourceRoot":"src/components/account"}]}