{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/account/SignInForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/account/SignInForm.vue","mtime":1608327908682},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgdXNlciBmcm9tICdAL2FwaV9jYWxscy9Vc2VyLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgZW1haWw6ICcnLAogICAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgICBjaGVja2VkOiBbXQogICAgICB9LAogICAgICBzaG93OiB0cnVlLAogICAgICB2YWxpZFNpZ25pbjogbnVsbCwKICAgICAgc3VibWl0U3RhdHVzOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KGV2dCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7IC8vc2lnbiBpbiBhcGkKCiAgICAgIHVzZXIuc2lnbmluQXBpQ2FsbCh0aGlzLmZvcm0uZW1haWwsIHRoaXMuZm9ybS5wYXNzd29yZCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdCkgewogICAgICAgICAgLy9pZiBzaWduIGluIHN1Y2NlZWRlZAogICAgICAgICAgX3RoaXMuc3VibWl0U3RhdHVzID0gJ09LJzsgLy9zdGFydCBzZXNzaW9uCgogICAgICAgICAgX3RoaXMuJHNlc3Npb24uc3RhcnQoKTsKCiAgICAgICAgICBfdGhpcy4kc2Vzc2lvbi5zZXQoJ3VzZXInLCByZXN1bHQpOyAvL3JvdXRpbmcgdG8gaG9tZXBhZ2UKCgogICAgICAgICAgX3RoaXMuJGVtaXQoImxvZ2luLXN0YXR1cy1jaGFuZ2UiKTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy9pZiBzaWduIGluIGZhaWxlZAogICAgICAgICAgX3RoaXMuc3VibWl0U3RhdHVzID0gJ0VSUk9SJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnN1Ym1pdFN0YXR1cyA9ICdQRU5ESU5HJzsKICAgIH0sCiAgICBvblJlc2V0OiBmdW5jdGlvbiBvblJlc2V0KGV2dCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBSZXNldCBvdXIgZm9ybSB2YWx1ZXMKCiAgICAgIHRoaXMuZm9ybS5lbWFpbCA9ICcnOwogICAgICB0aGlzLmZvcm0ucGFzc3dvcmQgPSAnJzsKICAgICAgdGhpcy5mb3JtLmNoZWNrZWQgPSBbXTsgLy8gVHJpY2sgdG8gcmVzZXQvY2xlYXIgbmF0aXZlIGJyb3dzZXIgZm9ybSB2YWxpZGF0aW9uIHN0YXRlCgogICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgdGhpcy5zdWJtaXRTdGF0dXMgPSBudWxsOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLnNob3cgPSB0cnVlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["SignInForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA,OAAA,KAAA,IAAA,MAAA,qBAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA;AAHA,OADA;AAMA,MAAA,IAAA,EAAA,IANA;AAOA,MAAA,WAAA,EAAA,IAPA;AAQA,MAAA,YAAA,EAAA;AARA,KAAA;AAUA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,GADA,EACA;AAAA;;AACA,MAAA,GAAA,CAAA,cAAA,GADA,CAEA;;AACA,MAAA,IAAA,CAAA,aAAA,CAAA,KAAA,IAAA,CAAA,KAAA,EAAA,KAAA,IAAA,CAAA,QAAA,EAAA,IAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,EAAA;AAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,IAAA,CADA,CAEA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAJA,CAMA;;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,qBAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,SATA,MASA;AAAA;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,OAAA;AACA;AACA,OAbA;AAcA,WAAA,YAAA,GAAA,SAAA;AACA,KAnBA;AAqBA,IAAA,OArBA,mBAqBA,GArBA,EAqBA;AAAA;;AACA,MAAA,GAAA,CAAA,cAAA,GADA,CAEA;;AACA,WAAA,IAAA,CAAA,KAAA,GAAA,EAAA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,EAAA;AACA,WAAA,IAAA,CAAA,OAAA,GAAA,EAAA,CALA,CAMA;;AACA,WAAA,IAAA,GAAA,KAAA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,IAAA;AACA,OAFA;AAGA;AAjCA;AAbA,CAAA","sourcesContent":["<template>\n  <div v-if=\"!this.$session.exists()\">\n    <b-card class=\"w-50 mx-auto mt-3\">\n      <div class=\"d-flex justify-content-center mb-3\" >\n        <b-button variant=\"outline-primary\">Sign In Form</b-button>\n      </div>\n      <div v-if=\"submitStatus === 'OK'\">\n        <b-alert variant=\"success\" show>Signed in successfully</b-alert>\n      </div>\n      <div v-if=\"submitStatus === 'ERROR'\">\n        <b-alert variant=\"danger\" show>Email and password are incorrect. Please check again</b-alert>\n      </div>\n      <div v-if=\"submitStatus === 'PENDING'\">\n        <b-alert variant=\"info\" show>Sending request...</b-alert>\n      </div>\n    \n      <b-form @submit=\"onSubmit\" @reset=\"onReset\" v-if=\"show\">\n      <b-form-group \n        label=\"Email address:\"\n      >\n          <b-form-input\n            v-model=\"form.email\"\n            type=\"email\"\n            required\n            placeholder=\"Enter email\"\n          ></b-form-input>\n      </b-form-group>\n\n      <b-form-group \n        label=\"Password:\"\n      >\n          <b-form-input\n            v-model=\"form.password\"\n            type=\"password\"\n            required\n            placeholder=\"Enter password\"\n          ></b-form-input>\n      </b-form-group>\n\n      <!-- <b-form-group>\n          <b-form-checkbox-group v-model=\"form.checked\">\n          <b-form-checkbox value=\"remember\">Remember me</b-form-checkbox>\n          </b-form-checkbox-group>\n      </b-form-group> -->\n\n      <div class=\"d-flex justify-content-center\">\n        <b-button type=\"signin\" variant=\"primary\">SignIn</b-button>\n        <b-button type=\"reset\" variant=\"danger\">Reset</b-button>\n      </div>\n      </b-form>\n    </b-card>\n  </div>\n</template>\n\n<script>\nimport * as user from '@/api_calls/User.js'\n\nexport default {\n  data() {\n    return {\n      form: {\n        email: '',\n        password: '',\n        checked: []\n      },\n      show: true,\n      validSignin: null,\n      submitStatus: null,\n    }\n  },\n  methods: {\n    onSubmit(evt) {\n      evt.preventDefault()\n      //sign in api\n      user.signinApiCall(this.form.email, this.form.password).then((result)=>{\n          if(result) { //if sign in succeeded\n            this.submitStatus = 'OK'\n            //start session\n            this.$session.start()\n            this.$session.set('user', result)\n            \n            //routing to homepage\n            this.$emit(\"login-status-change\")\n            this.$router.push('/')\n          } else { //if sign in failed\n            this.submitStatus = 'ERROR'\n          }\n        })\n        this.submitStatus = 'PENDING'\n    },\n    \n    onReset(evt) {\n      evt.preventDefault()\n      // Reset our form values\n      this.form.email = ''\n      this.form.password = ''\n      this.form.checked = []\n      // Trick to reset/clear native browser form validation state\n      this.show = false\n      this.submitStatus = null\n      this.$nextTick(() => {\n        this.show = true\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/components/account"}]}