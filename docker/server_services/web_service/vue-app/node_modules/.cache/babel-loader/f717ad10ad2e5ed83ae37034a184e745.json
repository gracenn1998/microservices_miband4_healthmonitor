{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/account/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/account/Profile.vue","mtime":1608329558650},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZ3JhY2UvcGovbWljcm9zZXJ2aWNlc19taWJhbmQ0X2hlYWx0aG1vbml0b3IvZnJvbnRlbmQvdnVlLWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAqIGFzIHVzZXIgZnJvbSAnQC9hcGlfY2FsbHMvVXNlci5qcyc7CmltcG9ydCAqIGFzIG1pYmFuZF9jb25uIGZyb20gJ0AvYXBpX2NhbGxzL01pYmFuZENvbm5lY3Rpb24uanMnOwppbXBvcnQgRGV2aWNlTWFuYWdlbWVudCBmcm9tICdAL2NvbXBvbmVudHMvRGV2aWNlTWFuYWdlbWVudCc7CmltcG9ydCBDaGFuZ2VQYXNzd29yZEZvcm0gZnJvbSAnQC9jb21wb25lbnRzL2FjY291bnQvQ2hhbmdlUGFzc3dvcmRGb3JtLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBEZXZpY2VNYW5hZ2VtZW50OiBEZXZpY2VNYW5hZ2VtZW50LAogICAgQ2hhbmdlUGFzc3dvcmRGb3JtOiBDaGFuZ2VQYXNzd29yZEZvcm0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnVzZXIpCiAgICB0aGlzLmdlbmVyYXRlQXZ0U3RyKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogdGhpcy4kc2Vzc2lvbi5nZXQoJ3VzZXInKSwKICAgICAgYXZhdGFyU3RyOiAnJywKICAgICAgdXBkYXRlTmFtZU1vZGU6IGZhbHNlLAogICAgICBjaGFuZ2VQd01vZGU6IGZhbHNlLAogICAgICBkZWxldGVTdGF0dXM6ICcnLAogICAgICBtaWJhbmRfZGJfaG9zdDogdGhpcy4kYXBpX2hvc3RzWydtaWJhbmRfZGJfYXBpJ10sCiAgICAgIG1pYmFuZF9kYl9wb3J0OiB0aGlzLiRhcGlfcG9ydHNbJ21pYmFuZF9kYl9hcGknXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGVudGVyVXBkYXRlTmFtZU1vZGU6IGZ1bmN0aW9uIGVudGVyVXBkYXRlTmFtZU1vZGUoKSB7CiAgICAgIHRoaXMudXBkYXRlTmFtZU1vZGUgPSB0cnVlOwogICAgfSwKICAgIGV4aXRVcGRhdGVOYW1lTW9kZTogZnVuY3Rpb24gZXhpdFVwZGF0ZU5hbWVNb2RlKCkgewogICAgICB0aGlzLnVzZXIuZnVsbG5hbWUgPSB0aGlzLiRzZXNzaW9uLmdldCgndXNlcicpLmZ1bGxuYW1lOwogICAgICB0aGlzLnVwZGF0ZU5hbWVNb2RlID0gZmFsc2U7CiAgICB9LAogICAgZW50ZXJDaGFuZ2VQd01vZGU6IGZ1bmN0aW9uIGVudGVyQ2hhbmdlUHdNb2RlKCkgewogICAgICB0aGlzLmNoYW5nZVB3TW9kZSA9IHRydWU7CiAgICB9LAogICAgZXhpdENoYW5nZVB3TW9kZTogZnVuY3Rpb24gZXhpdENoYW5nZVB3TW9kZSgpIHsKICAgICAgdGhpcy5jaGFuZ2VQd01vZGUgPSBmYWxzZTsKICAgIH0sCiAgICBnZW5lcmF0ZUF2dFN0cjogZnVuY3Rpb24gZ2VuZXJhdGVBdnRTdHIoKSB7CiAgICAgIGlmICh0aGlzLnVzZXIuZnVsbG5hbWUgIT0gbnVsbCkgewogICAgICAgIHZhciBzdHIgPSBTdHJpbmcodGhpcy4kc2Vzc2lvbi5nZXQoJ3VzZXInKS5mdWxsbmFtZSk7CiAgICAgICAgdmFyIHNlcGVyYXRlTmFtZSA9IHN0ci5zcGxpdCgiICIpOwoKICAgICAgICBpZiAoc2VwZXJhdGVOYW1lLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgICB0aGlzLmF2YXRhclN0ciA9IHNlcGVyYXRlTmFtZVswXVswXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5hdmF0YXJTdHIgPSBzZXBlcmF0ZU5hbWVbMF1bMF0gKyBzZXBlcmF0ZU5hbWVbc2VwZXJhdGVOYW1lLmxlbmd0aCAtIDFdWzBdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmF2YXRhclN0ciA9ICcnOwogICAgICB9CiAgICB9LAogICAgdXBkYXRlTmFtZTogZnVuY3Rpb24gdXBkYXRlTmFtZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB1aWQgPSB0aGlzLiRzZXNzaW9uLmdldCgndXNlcicpLmlkOyAvLyB0aGlzLnVwZGF0ZU5hbWVBcGlDYWxsKHRoaXMudXNlci5lbWFpbCwgdGhpcy51c2VyLmZ1bGxuYW1lKQoKICAgICAgdXNlci51cGRhdGVOYW1lQXBpQ2FsbCh1aWQsIHRoaXMudXNlci5mdWxsbmFtZSkudGhlbihmdW5jdGlvbiAodXNlcikgewogICAgICAgIF90aGlzLiRzZXNzaW9uLnNldCgndXNlcicsIHVzZXIpOwoKICAgICAgICBfdGhpcy5nZW5lcmF0ZUF2dFN0cigpOwoKICAgICAgICBfdGhpcy5leGl0VXBkYXRlTmFtZU1vZGUoKTsgLy8gdGhpcy4kZm9yY2VVcGRhdGUKCiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUxvZ3NBcGlDYWxsOiBmdW5jdGlvbiBkZWxldGVMb2dzQXBpQ2FsbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB1c2VyX2lkLCByZXNwb25zZSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVzZXJfaWQgPSBfdGhpczIuJHNlc3Npb24uZ2V0KCd1c2VyJykuaWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vIi5jb25jYXQoX3RoaXMyLm1pYmFuZF9kYl9ob3N0LCAiOiIpLmNvbmNhdChfdGhpczIubWliYW5kX2RiX3BvcnQsICIvdXNlcnMvIikuY29uY2F0KHVzZXJfaWQsICIvbG9ncyIpLCB7CiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0WydkZWxldGUtcmVzdWx0J10gPT0gJ3N1Y2NlZWRlZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgdHJ1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTM7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdW5wYWlyQmFuZERiQXBpQ2FsbDogZnVuY3Rpb24gdW5wYWlyQmFuZERiQXBpQ2FsbCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgYmFuZGlkLCByZXNwb25zZSwgcmVzdWx0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBiYW5kaWQgPSBfdGhpczMuJHNlc3Npb24uZ2V0KCdtaWJhbmQnKS5pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cDovLyIuY29uY2F0KF90aGlzMy5taWJhbmRfZGJfaG9zdCwgIjoiKS5jb25jYXQoX3RoaXMzLm1pYmFuZF9kYl9wb3J0LCAiL2JhbmRzLyIpLmNvbmNhdChiYW5kaWQsICIvdW5wYWlyIikpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0Wyd1bnBhaXItYmFuZC1yZXN1bHQnXSA9PSAic3VjY2VlZGVkIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIHRydWUpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDAgPSBfY29udGV4dDJbImNhdGNoIl0oMSk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgMTVdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZUFuZENsb3NlTW9kYWw6IGZ1bmN0aW9uIGRlbGV0ZUFuZENsb3NlTW9kYWwoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHVzZXJfaWQsIGRlbGV0ZUxvZ3NSZXN1bHQsIHVucGFpckJhbmRSZXN1bHQsIGRlbGV0ZVVzZXJSZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHVzZXJfaWQgPSBfdGhpczQuJHNlc3Npb24uZ2V0KCd1c2VyJykuaWQ7CgogICAgICAgICAgICAgICAgX3RoaXM0LiRidk1vZGFsLmhpZGUoJ2NvbmZpcm0tcmVtb3ZlLW1vZGFsJyk7CgogICAgICAgICAgICAgICAgX3RoaXM0LmRlbGV0ZVN0YXR1cyA9ICdQRU5ESU5HJzsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuZGVsZXRlTG9nc0FwaUNhbGwoKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZGVsZXRlTG9nc1Jlc3VsdCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgdW5wYWlyQmFuZFJlc3VsdCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKCFkZWxldGVMb2dzUmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vaWYgc3VjY2VlZGVkCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczQuJHNlc3Npb24uZ2V0KCdtaWJhbmQnKSk7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXM0LiRzZXNzaW9uLmdldCgnbWliYW5kJykgIT0gdW5kZWZpbmVkKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIG1pYmFuZF9jb25uLmRpc2Nvbm5lY3RBcGlDYWxsKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC51bnBhaXJCYW5kRGJBcGlDYWxsKCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICB1bnBhaXJCYW5kUmVzdWx0ID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBpZiAoIXVucGFpckJhbmRSZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyLmRlbGV0ZVVzZXJBcGlDYWxsKHVzZXJfaWQpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgZGVsZXRlVXNlclJlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChkZWxldGVVc2VyUmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5kZWxldGVTdGF0dXMgPSAnT0snOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LiRzZXNzaW9uLmRlc3Ryb3koKTsKCiAgICAgICAgICAgICAgICAgIF90aGlzNC4kZW1pdCgnbG9naW4tc3RhdHVzLWNoYW5nZScpOwoKICAgICAgICAgICAgICAgICAgX3RoaXM0LiRyb3V0ZXIucHVzaCgnLycpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"w-50 mx-auto mt-3 mb-3\" v-if=\"this.$session.exists()\">\n        <b-card>\n            <template #header>\n                <div class=\"d-flex justify-content-center\">\n                    <b-avatar :text=\"avatarStr\" size=\"6rem\"></b-avatar>\n                </div>\n                <b-card-title v-if=\"user.fullname==null&&updateNameMode!=true\" class=\"text-center mt-2\">\n                    <b-button variant=\"outline-primary\" @click=\"enterUpdateNameMode\">\n                        Please tell us your name 📝\n                    </b-button>\n                </b-card-title>\n                <b-card-title v-else-if=\"updateNameMode==true\" class=\"text-center mt-2\">\n                    <b-form @submit.prevent=\"updateName\" inline class=\"d-flex justify-content-around\">\n                        <b-form-input class=\"w-75\"\n                        v-model=\"user.fullname\"\n                        placeholder=\"Enter your name\"\n                    ></b-form-input>\n                    <div>\n                        <b-button @click=\"updateName\" variant=\"success\" class=\"mr-1\">OK</b-button>\n                        <b-button @click=\"exitUpdateNameMode\" variant=\"danger\">✖️</b-button>\n                    </div>\n                    </b-form>\n                </b-card-title>\n                <b-card-title v-else class=\"text-center mt-2\">\n                    {{user.fullname}}\n                    <b-button variant=\"outline-primary\" @click=\"enterUpdateNameMode\">📝</b-button>\n                </b-card-title>\n                <b-card-sub-title class=\"text-center\">{{user.email}}</b-card-sub-title>\n                <!-- <div class=\"d-flex justify-content-center\">\n                    <b-card-text>🏆 Strike: 4days</b-card-text>\n                </div> -->\n            </template>\n\n            <b-skeleton-wrapper :loading=\"deleteStatus === 'PENDING'\">\n                <template #loading>\n                <b-card>\n                <b-skeleton width=\"85%\"></b-skeleton>\n                <b-skeleton width=\"55%\"></b-skeleton>\n                <b-skeleton width=\"70%\"></b-skeleton>\n                </b-card>\n            </template>\n            <device-management />\n\n            <!-- <b-card title=\"More\" class=\"mt-1\">\n                <b-button variant=\"outline-primary\" class=\"w-100\">Set goal</b-button>\n            </b-card> -->\n\n            <b-card title=\"Account\" class=\"mt-1\">\n                <b-button variant=\"outline-primary\" class=\"w-100 mb-1\"\n                    @click=\"enterChangePwMode\"\n                >Change password</b-button>\n                <ChangePasswordForm v-if=\"changePwMode==true\" @exit-change-pw-mode=\"exitChangePwMode\"/>\n                <b-button variant=\"outline-primary\" class=\"w-100\" v-b-modal.confirm-delete-modal >Delete account</b-button>\n                \n            </b-card>\n            \n            <b-modal id=\"confirm-delete-modal\" hide-footer title=\"Confirmation\">\n                <div class=\"d-block text-center\">\n                    <h4>Do you really want to delete this account?</h4>\n                </div>\n                <div class=\"d-flex justify-content-end\">\n                    <b-button class=\"mt-3 mr-3\"  @click=\"$bvModal.hide('confirm-delete-modal')\">Cancel</b-button>\n                    <b-button class=\"mt-3 mr-4\" variant=\"danger\" @click=\"deleteAndCloseModal()\">Delete</b-button>\n                </div>\n            </b-modal>\n            </b-skeleton-wrapper>\n        </b-card>\n        \n    </div>\n</template>\n\n\n<script>\nimport * as user from '@/api_calls/User.js'\nimport * as miband_conn from '@/api_calls/MibandConnection.js'\nimport DeviceManagement from '@/components/DeviceManagement'\nimport ChangePasswordForm from '@/components/account/ChangePasswordForm.vue'\n\nexport default {\n    components: { \n        DeviceManagement,\n        ChangePasswordForm\n    },\n    created() {\n        // console.log(this.user)\n        this.generateAvtStr()\n        \n    },\n    data() {\n        return {\n            user: this.$session.get('user'),\n            avatarStr: '',\n            updateNameMode: false,\n            changePwMode: false,\n            deleteStatus: '',\n            miband_db_host: this.$api_hosts['miband_db_api'],\n            miband_db_port: this.$api_ports['miband_db_api'],\n        }\n    },\n    methods: {\n        enterUpdateNameMode() {\n            this.updateNameMode = true\n        },\n        exitUpdateNameMode() {\n            this.user.fullname=this.$session.get('user').fullname\n            this.updateNameMode = false\n        },\n        enterChangePwMode() {\n            this.changePwMode = true\n        },\n        exitChangePwMode() {\n            this.changePwMode = false\n        },\n\n        generateAvtStr() {\n            if(this.user.fullname!=null) {\n                var str = String(this.$session.get('user').fullname)\n                var seperateName = str.split(\" \")\n                if(seperateName.length==1){\n                    this.avatarStr = seperateName[0][0]\n                } else {\n                    this.avatarStr=seperateName[0][0] + seperateName[seperateName.length-1][0]\n                }\n                \n            }\n            else{\n                this.avatarStr=''\n            }\n        },\n\n        updateName() {\n            const uid = this.$session.get('user').id\n            // this.updateNameApiCall(this.user.email, this.user.fullname)\n            user.updateNameApiCall(uid, this.user.fullname).then((user)=>{\n                this.$session.set('user', user)\n                this.generateAvtStr()\n                this.exitUpdateNameMode()\n                // this.$forceUpdate\n            })\n        },\n\n        async deleteLogsApiCall() {\n            const user_id = this.$session.get('user').id\n            try {\n                const response = await fetch(`http://${this.miband_db_host}:${this.miband_db_port}/users/${user_id}/logs`, {\n                    method: 'DELETE'\n                })\n                const result = await response.json()\n                if(result['delete-result']=='succeeded') {\n                    return true\n                }\n                return false\n            }\n            catch (error) {\n                console.log(error)\n            }\n        },\n\n        async unpairBandDbApiCall() {\n            const bandid = this.$session.get('miband').id\n            try {\n                const response = await fetch(`http://${this.miband_db_host}:${this.miband_db_port}/bands/${bandid}/unpair`)\n                const result = await response.json()\n\n                // do something with `data`\n                if(result['unpair-band-result']==\"succeeded\")\n                    return true\n                else return false\n            } catch (error) {\n                // do something with `error`\n            }\n        },\n\n        async deleteAndCloseModal() {\n            const user_id = this.$session.get('user').id\n\n            this.$bvModal.hide('confirm-remove-modal')\n\n            this.deleteStatus = 'PENDING'\n            \n            const deleteLogsResult = await this.deleteLogsApiCall()\n            var unpairBandResult = true\n            var deleteUserResult\n            if(deleteLogsResult) { //if succeeded\n                console.log(this.$session.get('miband'))\n                if(this.$session.get('miband')!=undefined) { //if pairing band exist\n                    await miband_conn.disconnectApiCall()\n                    unpairBandResult = await this.unpairBandDbApiCall()\n                }\n            }\n            if(unpairBandResult) {\n                deleteUserResult = await user.deleteUserApiCall(user_id)\n                if(deleteUserResult) {\n                    this.deleteStatus = 'OK'\n                    this.$session.destroy()\n                    this.$emit('login-status-change')\n                    this.$router.push('/')\n                }\n            }\n        },\n    }\n}\n</script>"],"sourceRoot":"src/components/account"}]}