{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/device/DeviceList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/device/DeviceList.vue","mtime":1607175226173},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2dyYWNlL3BqL21pY3Jvc2VydmljZXNfbWliYW5kNF9oZWFsdGhtb25pdG9yL2Zyb250ZW5kL3Z1ZS1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgbWliYW5kX2RiX2hvc3QgPSAnMTkyLjE2OC4xMS4xMjInOwp2YXIgbWliYW5kX2RiX3BvcnQgPSAnNTAwMic7CmV4cG9ydCBkZWZhdWx0IHsKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBpZiAodGhpcy4kc2Vzc2lvbi5nZXQoJ21pYmFuZCcpID09IHVuZGVmaW5lZCkgewogICAgICB0aGlzLmdldEJhbmRJbmZvKCkudGhlbihmdW5jdGlvbiAoYmFuZGluZm8pIHsKICAgICAgICBfdGhpcy4kc2Vzc2lvbi5zZXQoJ21pYmFuZCcsIGJhbmRpbmZvKTsKCiAgICAgICAgX3RoaXMuJGVtaXQoJ3VwZGF0ZS1saXN0LWRpc3BsYXknKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWliYW5kOiB0aGlzLiRzZXNzaW9uLmdldCgnbWliYW5kJykKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBlbWl0QW5kQ2xvc2VNb2RhbDogZnVuY3Rpb24gZW1pdEFuZENsb3NlTW9kYWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3VucGFpci1iYW5kJywgdGhpcy5taWJhbmQpOwogICAgICB0aGlzLiRidk1vZGFsLmhpZGUoJ2NvbmZpcm0tcmVtb3ZlLW1vZGFsJyk7CiAgICB9LAogICAgZ2V0QmFuZEluZm86IGZ1bmN0aW9uIGdldEJhbmRJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHVzZXJpZCwgcmVzcG9uc2UsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1c2VyaWQgPSBfdGhpczIuJHNlc3Npb24uZ2V0KCd1c2VyJykuaWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwOi8vIi5jb25jYXQobWliYW5kX2RiX2hvc3QsICI6IikuY29uY2F0KG1pYmFuZF9kYl9wb3J0LCAiL2dldGJhbmRieXVzZXIvIikuY29uY2F0KHVzZXJpZCkpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgxKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTFdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["DeviceList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,IAAA,cAAA,GAAA,gBAAA;AACA,IAAA,cAAA,GAAA,MAAA;AAEA,eAAA;AACA,EAAA,OADA,qBACA;AAAA;;AACA,QAAA,KAAA,QAAA,CAAA,GAAA,CAAA,QAAA,KAAA,SAAA,EAAA;AACA,WAAA,WAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,QAAA,EAAA,QAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,qBAAA;AACA,OAHA;AAIA;AACA,GARA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KAAA,QAAA,CAAA,GAAA,CAAA,QAAA;AADA,KAAA;AAGA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,iBADA,+BACA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,KAAA,MAAA;AACA,WAAA,QAAA,CAAA,IAAA,CAAA,sBAAA;AACA,KAJA;AAMA,IAAA,WANA,yBAMA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA,MAAA,CAAA,QAAA,CAAA,GAAA,CAAA,MAAA,EAAA,EADA;AAAA;AAAA;AAAA,uBAGA,KAAA,kBAAA,cAAA,cAAA,cAAA,4BAAA,MAAA,EAHA;;AAAA;AAGA,gBAAA,QAHA;AAAA;AAAA,uBAIA,QAAA,CAAA,IAAA,EAJA;;AAAA;AAIA,gBAAA,MAJA;AAAA,iDAKA,MALA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAfA;AAdA,CAAA","sourcesContent":["<template>\n  <div>\n    <b-card v-if=\"$session.get('miband')!=undefined\">\n      <div class=\"card-header d-flex justify-content-between\">\n        <h4>Miband</h4>\n        <b-button \n          v-b-tooltip.hover title=\"Unpair device\"\n          v-b-modal.confirm-remove-modal\n          variant=\"outline-danger\"\n        >✖️</b-button>\n\n        <b-modal id=\"confirm-remove-modal\" hide-footer title=\"Confirmation\">\n          <div class=\"d-block text-center\">\n            <h4>Do you really want to unpair this device?</h4>\n          </div>\n          <div class=\"d-flex justify-content-end\">\n            <b-button class=\"mt-3 mr-3\"  @click=\"$bvModal.hide('confirm-remove-modal')\">Cancel</b-button>\n            <b-button class=\"mt-3 mr-4\" variant=\"danger\" @click=\"emitAndCloseModal()\">Unpair</b-button>\n          </div>\n          \n        </b-modal>\n      </div>\n\n      \n\n      <b-list-group horizontal>\n        <b-list-group-item class=\"w-25\">MAC address</b-list-group-item>\n        <b-list-group-item class=\"w-75\">{{miband.mac_add}}</b-list-group-item>\n      </b-list-group>\n      <b-list-group horizontal>\n        <b-list-group-item class=\"w-25\">Authentic key</b-list-group-item>\n        <b-list-group-item class=\"w-75\">{{miband.auth_key}}</b-list-group-item>\n      </b-list-group>\n      \n\n    </b-card>\n  </div>\n  \n</template>\n\n<script>\nconst miband_db_host='192.168.11.122'\nconst miband_db_port='5002'\n\n  export default {\n    created() {\n      if(this.$session.get('miband')==undefined) {\n        this.getBandInfo().then((bandinfo)=>{\n          this.$session.set('miband', bandinfo)\n          this.$emit('update-list-display')\n        })\n      }\n    },\n    data() {\n      return {\n        miband: this.$session.get('miband')\n      }\n    },\n    methods: {\n      emitAndCloseModal() {\n        this.$emit('unpair-band', this.miband)\n        this.$bvModal.hide('confirm-remove-modal')\n      },\n\n      async getBandInfo() {\n        const userid = this.$session.get('user').id\n        try {\n            const response = await fetch(`http://${miband_db_host}:${miband_db_port}/getbandbyuser/${userid}`)\n            const result = await response.json()\n            return result\n        } catch (error) {\n            // do something with `error`\n        }\n        },\n    }\n  }\n</script>"],"sourceRoot":"src/components/device"}]}