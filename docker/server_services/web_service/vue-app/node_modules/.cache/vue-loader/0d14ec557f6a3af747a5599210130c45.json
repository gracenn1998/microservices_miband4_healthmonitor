{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/data/GeneralData.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/data/GeneralData.vue","mtime":1607282486641},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIC8vIHByb3BzOiBbJ2dlbmVyYWxkYXRhJ10sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGdlbmVyYWxkYXRhOiBudWxsLAogICAgICAgICAgICBtaWJhbmRfaG9zdDogdGhpcy4kYXBpX2hvc3RzWydtaWJhbmRfYXBpJ10sCiAgICAgICAgICAgIG1pYmFuZF9wb3J0OiB0aGlzLiRhcGlfcG9ydHNbJ21pYmFuZF9hcGknXQogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIGlmKHRoaXMuJHNlc3Npb24uZ2V0KCdtaWJhbmQnKSE9dW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHRoaXMuZ2V0R2VuZXJhbERhdGEoKQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYXN5bmMgZ2V0R2VuZXJhbERhdGFBcGlDYWxsKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovLyR7dGhpcy5taWJhbmRfaG9zdH06JHt0aGlzLm1pYmFuZF9wb3J0fS9iYW5kL2dlbmVyYWxgKQogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpCiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2dldC1zdGVwLXJlc3VsdCddPT09J3N1Y2NlZWRlZCcpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFsnc3RlcGluZm8nXQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAvLyBkbyBzb21ldGhpbmcgd2l0aCBgZXJyb3JgCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBnZXRHZW5lcmFsRGF0YSgpIHsKICAgICAgICAgICAgdGhpcy5nZXRHZW5lcmFsRGF0YUFwaUNhbGwoKS50aGVuKChyZXN1bHQpPT57CiAgICAgICAgICAgICAgICBpZihyZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYWxkYXRhID0gcmVzdWx0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgIH0KfQo="},{"version":3,"sources":["GeneralData.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GeneralData.vue","sourceRoot":"src/components/data","sourcesContent":["<template>\n    <div v-if=\"generaldata\">\n        <div class=\"d-flex d-flex justify-content-end mb-2\">\n            <b-button @click=\"getGeneralData\" variant=\"light\">ðŸ”„</b-button>\n        </div>\n        \n        <b-list-group>\n            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                <h5>Steps count</h5>\n                <b-avatar :text=\"String(generaldata['steps'])\" size=\"4em\" variant=\"success\"></b-avatar>\n            </b-list-group-item>\n\n            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                <h5>Burned fat</h5>\n                <b-avatar :text=\"String(generaldata['fat_burned'])\" size=\"4em\" variant=\"success\"></b-avatar>\n            </b-list-group-item>\n\n            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                <h5>Burned calories</h5>\n                <b-avatar :text=\"String(generaldata['calories'])\" size=\"4em\" variant=\"success\"></b-avatar>\n            </b-list-group-item>\n\n            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                <h5>Travelled distance</h5>\n                <b-avatar :text=\"String(generaldata['meters'])\" size=\"4em\" variant=\"success\"></b-avatar>\n            </b-list-group-item>\n        </b-list-group>\n    </div>\n</template>\n\n<script>\nexport default {\n    // props: ['generaldata'],\n    data() {\n        return {\n            generaldata: null,\n            miband_host: this.$api_hosts['miband_api'],\n            miband_port: this.$api_ports['miband_api']\n        }\n    },\n    mounted() {\n        if(this.$session.get('miband')!=undefined) {\n            this.getGeneralData()\n        }\n    },\n    methods: {\n        async getGeneralDataApiCall() {\n            try {\n                const response = await fetch(`http://${this.miband_host}:${this.miband_port}/band/general`)\n                const result = await response.json()\n                if(result['get-step-result']==='succeeded')\n                    return result['stepinfo']\n                return false\n            } catch (error) {\n                // do something with `error`\n            }\n        },\n\n        getGeneralData() {\n            this.getGeneralDataApiCall().then((result)=>{\n                if(result) {\n                    this.generaldata = result\n                }\n            })\n        },\n    }\n}\n</script>"]}]}