{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/data/GeneralData.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/data/GeneralData.vue","mtime":1607175226173},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IG1pYmFuZF9ob3N0PScxOTIuMTY4LjExLjEyMicKY29uc3QgbWliYW5kX3BvcnQ9JzUwMDEnCmV4cG9ydCBkZWZhdWx0IHsKICAgIC8vIHByb3BzOiBbJ2dlbmVyYWxkYXRhJ10sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGdlbmVyYWxkYXRhOiBudWxsCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgaWYodGhpcy4kc2Vzc2lvbi5nZXQoJ21pYmFuZCcpIT11bmRlZmluZWQpIHsKICAgICAgICAgICAgdGhpcy5nZXRHZW5lcmFsRGF0YSgpCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBhc3luYyBnZXRHZW5lcmFsRGF0YUFwaUNhbGwoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cDovLyR7bWliYW5kX2hvc3R9OiR7bWliYW5kX3BvcnR9L2dldHN0ZXBzYCkKICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpCiAgICAgICAgICAgIGlmKHJlc3VsdFsnZ2V0LXN0ZXAtcmVzdWx0J109PT0nc3VjY2VlZGVkJykKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRbJ3N0ZXBpbmZvJ10KICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgLy8gZG8gc29tZXRoaW5nIHdpdGggYGVycm9yYAogICAgICAgIH0KICAgICAgfSwKCiAgICAgIGdldEdlbmVyYWxEYXRhKCkgewogICAgICAgIHRoaXMuZ2V0R2VuZXJhbERhdGFBcGlDYWxsKCkudGhlbigocmVzdWx0KT0+ewogICAgICAgICAgICBpZihyZXN1bHQpIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2VuZXJhbGRhdGEgPSByZXN1bHQKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgfSwKICAgIH0KfQo="},{"version":3,"sources":["GeneralData.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"GeneralData.vue","sourceRoot":"src/components/data","sourcesContent":["<template>\n    <div v-if=\"generaldata\">\n        <div class=\"d-flex d-flex justify-content-end mb-2\">\n            <b-button @click=\"getGeneralData\" variant=\"light\">ðŸ”„</b-button>\n        </div>\n        \n        <b-list-group>\n            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                <h5>Steps count</h5>\n                <b-avatar :text=\"String(generaldata['steps'])\" size=\"4em\" variant=\"success\"></b-avatar>\n            </b-list-group-item>\n\n            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                <h5>Burned fat</h5>\n                <b-avatar :text=\"String(generaldata['fat_burned'])\" size=\"4em\" variant=\"success\"></b-avatar>\n            </b-list-group-item>\n\n            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                <h5>Burned calories</h5>\n                <b-avatar :text=\"String(generaldata['calories'])\" size=\"4em\" variant=\"success\"></b-avatar>\n            </b-list-group-item>\n\n            <b-list-group-item class=\"d-flex justify-content-between align-items-center\">\n                <h5>Travelled distance</h5>\n                <b-avatar :text=\"String(generaldata['meters'])\" size=\"4em\" variant=\"success\"></b-avatar>\n            </b-list-group-item>\n        </b-list-group>\n    </div>\n</template>\n\n<script>\nconst miband_host='192.168.11.122'\nconst miband_port='5001'\nexport default {\n    // props: ['generaldata'],\n    data() {\n        return {\n            generaldata: null\n        }\n    },\n    created() {\n        if(this.$session.get('miband')!=undefined) {\n            this.getGeneralData()\n        }\n    },\n    methods: {\n        async getGeneralDataApiCall() {\n        try {\n            const response = await fetch(`http://${miband_host}:${miband_port}/getsteps`)\n            const result = await response.json()\n            if(result['get-step-result']==='succeeded')\n                return result['stepinfo']\n            return false\n        } catch (error) {\n            // do something with `error`\n        }\n      },\n\n      getGeneralData() {\n        this.getGeneralDataApiCall().then((result)=>{\n            if(result) {\n                this.generaldata = result\n            }\n          })\n      },\n    }\n}\n</script>"]}]}