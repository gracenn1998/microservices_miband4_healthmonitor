{"remainingRequest":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/device/DeviceList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/src/components/device/DeviceList.vue","mtime":1607175226173},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grace/pj/microservices_miband4_healthmonitor/frontend/vue-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IG1pYmFuZF9kYl9ob3N0PScxOTIuMTY4LjExLjEyMicKY29uc3QgbWliYW5kX2RiX3BvcnQ9JzUwMDInCgogIGV4cG9ydCBkZWZhdWx0IHsKICAgIGNyZWF0ZWQoKSB7CiAgICAgIGlmKHRoaXMuJHNlc3Npb24uZ2V0KCdtaWJhbmQnKT09dW5kZWZpbmVkKSB7CiAgICAgICAgdGhpcy5nZXRCYW5kSW5mbygpLnRoZW4oKGJhbmRpbmZvKT0+ewogICAgICAgICAgdGhpcy4kc2Vzc2lvbi5zZXQoJ21pYmFuZCcsIGJhbmRpbmZvKQogICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlLWxpc3QtZGlzcGxheScpCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbWliYW5kOiB0aGlzLiRzZXNzaW9uLmdldCgnbWliYW5kJykKICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgZW1pdEFuZENsb3NlTW9kYWwoKSB7CiAgICAgICAgdGhpcy4kZW1pdCgndW5wYWlyLWJhbmQnLCB0aGlzLm1pYmFuZCkKICAgICAgICB0aGlzLiRidk1vZGFsLmhpZGUoJ2NvbmZpcm0tcmVtb3ZlLW1vZGFsJykKICAgICAgfSwKCiAgICAgIGFzeW5jIGdldEJhbmRJbmZvKCkgewogICAgICAgIGNvbnN0IHVzZXJpZCA9IHRoaXMuJHNlc3Npb24uZ2V0KCd1c2VyJykuaWQKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGBodHRwOi8vJHttaWJhbmRfZGJfaG9zdH06JHttaWJhbmRfZGJfcG9ydH0vZ2V0YmFuZGJ5dXNlci8ke3VzZXJpZH1gKQogICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCkKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdAogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIC8vIGRvIHNvbWV0aGluZyB3aXRoIGBlcnJvcmAKICAgICAgICB9CiAgICAgICAgfSwKICAgIH0KICB9Cg=="},{"version":3,"sources":["DeviceList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DeviceList.vue","sourceRoot":"src/components/device","sourcesContent":["<template>\n  <div>\n    <b-card v-if=\"$session.get('miband')!=undefined\">\n      <div class=\"card-header d-flex justify-content-between\">\n        <h4>Miband</h4>\n        <b-button \n          v-b-tooltip.hover title=\"Unpair device\"\n          v-b-modal.confirm-remove-modal\n          variant=\"outline-danger\"\n        >✖️</b-button>\n\n        <b-modal id=\"confirm-remove-modal\" hide-footer title=\"Confirmation\">\n          <div class=\"d-block text-center\">\n            <h4>Do you really want to unpair this device?</h4>\n          </div>\n          <div class=\"d-flex justify-content-end\">\n            <b-button class=\"mt-3 mr-3\"  @click=\"$bvModal.hide('confirm-remove-modal')\">Cancel</b-button>\n            <b-button class=\"mt-3 mr-4\" variant=\"danger\" @click=\"emitAndCloseModal()\">Unpair</b-button>\n          </div>\n          \n        </b-modal>\n      </div>\n\n      \n\n      <b-list-group horizontal>\n        <b-list-group-item class=\"w-25\">MAC address</b-list-group-item>\n        <b-list-group-item class=\"w-75\">{{miband.mac_add}}</b-list-group-item>\n      </b-list-group>\n      <b-list-group horizontal>\n        <b-list-group-item class=\"w-25\">Authentic key</b-list-group-item>\n        <b-list-group-item class=\"w-75\">{{miband.auth_key}}</b-list-group-item>\n      </b-list-group>\n      \n\n    </b-card>\n  </div>\n  \n</template>\n\n<script>\nconst miband_db_host='192.168.11.122'\nconst miband_db_port='5002'\n\n  export default {\n    created() {\n      if(this.$session.get('miband')==undefined) {\n        this.getBandInfo().then((bandinfo)=>{\n          this.$session.set('miband', bandinfo)\n          this.$emit('update-list-display')\n        })\n      }\n    },\n    data() {\n      return {\n        miband: this.$session.get('miband')\n      }\n    },\n    methods: {\n      emitAndCloseModal() {\n        this.$emit('unpair-band', this.miband)\n        this.$bvModal.hide('confirm-remove-modal')\n      },\n\n      async getBandInfo() {\n        const userid = this.$session.get('user').id\n        try {\n            const response = await fetch(`http://${miband_db_host}:${miband_db_port}/getbandbyuser/${userid}`)\n            const result = await response.json()\n            return result\n        } catch (error) {\n            // do something with `error`\n        }\n        },\n    }\n  }\n</script>"]}]}